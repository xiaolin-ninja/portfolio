{"version":3,"sources":["utils/screen.ts","redux/action.ts","redux/reducer.ts","redux/store.ts","components/menus/base.tsx","components/menus/AppleMenu.tsx","components/menus/WifiMenu.tsx","configs/music.ts","components/menus/ControlCenterMenu.tsx","components/menus/TopBar.tsx","components/apps/FaceTime.tsx","configs/terminal.tsx","components/apps/Terminal.tsx","configs/websites.ts","configs/wallpapers.ts","components/apps/Safari.tsx","utils/url.ts","configs/bear.tsx","components/apps/Bear.tsx","components/apps/VSCode.tsx","configs/apps.tsx","components/dock/DockItem.tsx","components/dock/Dock.tsx","configs/launchpad.ts","components/Launchpad.tsx","components/Window.tsx","components/Spotlight.tsx","pages/Desktop.tsx","configs/user.ts","pages/Login.tsx","pages/Boot.tsx","index.tsx"],"names":["isFullScreen","fsDoc","document","fullscreenElement","webkitIsFullScreen","mozFullScreen","msFullscreenElement","type","toggleFullScreen","fullscreen","element","documentElement","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","enterFullScreen","exitFullscreen","toggleWIFI","wifi","initState","dark","volume","brightness","bluetooth","airdrop","dockSize","dockMag","store","createStore","state","action","MenuItem","onClick","this","props","className","children","Component","MenuItemGroup","border","AppleMenu","logout","shut","restart","sleep","toggleAppleMenu","btnRef","ref","useRef","useEffect","handleClickOutside","e","current","contains","target","addEventListener","removeEventListener","style","boxShadow","WifiMenu","wifiRef","createRef","bind","toggleWifiMenu","checked","onChange","connect","music","title","artist","cover","audio","SliderComponent","icon","value","setValue","min","max","tooltip","orientation","v","ControlCenterMenu","controlCenterRef","toggleControlCenter","size","toggleBleutooth","toggleAirdrop","toggleDark","lineHeight","setBrightness","setVolume","src","alt","playing","toggleAudio","nightwind","toggle","TopBarItem","forwardRef","hide","hideOnMobile","hover","forceHover","TopBar","intervalId","appleBtnRef","controlCenterBtnRef","wifiBtnRef","spotlightBtnRef","Audio","resize","isFull","play","pause","setState","showControlCenter","showAppleMenu","showWifiMenu","setLogin","shutMac","restartMac","sleepMac","date","Date","setSpotlightBtnRef","setInterval","window","load","clearInterval","toggleSpotlight","format","videoConstraints","facingMode","FaceTime","webcamRef","capture","imageSrc","getScreenshot","img","click","id","screenshotFormat","terminal","content","href","rel","emojis","getEmoji","Math","floor","random","length","characters","ButWhy","$canvas","ctx","emoji","font_size","drops","$container","querySelector","height","offsetHeight","width","offsetWidth","getContext","columns","x","rain","fillStyle","fillRect","font","i","text","fillText","setRMRF","Terminal","history","curHistory","curInputTimes","curDirPath","curChildren","commands","reset","innerHTML","getCurDirName","getCurChildren","name","find","item","cd","args","undefined","pop","generateResultRow","push","ls","result","cat","file","clear","help","autoComplete","input","split","cmd","guess","Object","keys","substring","keyPress","keyCode","key","$input","input_text","trim","setAttribute","substr","rmrf","includes","generateInputRow","preventDefault","focusOnInput","focus","newRow","onKeyDown","autoFocus","websites","favorites","sites","link","freq","wallpapers","day","night","NavSection","grid","section","map","site","inner","setGoURL","open","numTracker","NavPage","span","backgroundImage","NoInternetPage","Safari","url","str","RegExp","test","goURL","currentURL","pressURL","buttonColor","hideLast","onKeyPress","placeholder","frameBorder","bear","md","excerpt","Sidebar","index","cur","setMidBar","Middlebar","items","setContent","Content","storeMd","fetchMarkdown","prevProps","fetch","then","response","fixImageURL","catch","error","console","slice","mdURL","replace","indexOf","repoURL","getRepoURL","imgReg","imgList","match","imgURL","newImgURL","linkTarget","remarkPlugins","gfm","components","code","node","inline","exec","dracula","prism","language","PreTag","String","Bear","midbarList","curSidebar","contentURL","contentID","curMidbar","VSCode","apps","desktop","show","minWidth","minHeight","DockItem","mouseX","openApp","isOpen","imgRef","distanceLimit","distanceInput","widthOutput","beyondTheDistanceLimit","distance","useMotionValue","widthPX","useSpring","useTransform","stiffness","damping","useRaf","el","mouseXVal","get","rect","getBoundingClientRect","distanceDelta","left","set","useDockHoverAnimation","windowWidth","useState","body","setWidth","onResize","useCallback","useWindowWidth","motion","draggable","willChange","Dock","showApps","showLaunchpad","toggleLaunchpad","useSelector","onMouseMove","nativeEvent","onMouseLeave","app","launchpadApps","Launchpad","search","searchText","toLowerCase","filter","close","stopPropagation","color","maxWidth","FullIcon","viewBox","xmlns","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","fill","d","ExitFullIcon","TrafficLights","setMax","setMin","closeWindow","onTouchEnd","disabled","Window","maxW","innerWidth","maxH","innerHeight","y","round","minimized","React","cloneElement","bounds","position","onDragStop","onResizeStop","direction","delta","parseInt","dragHandleClassName","disableDragging","enableResizing","zIndex","z","onMouseDown","onDoubleClick","allApps","portfolio","launchpad","getRandom","ceil","getRandomDate","timeStamp","getTime","randomStamp","Spotlight","curSelectIndex","spotlightRef","handleClick","appIdList","findIndex","updateHighlight","updateCurDetails","handleDoubleClick","launchCurApp","curDetails","getTypeAppList","startIndex","appList","curIndex","bg","setCurDetails","data-app-type","updateAppList","appId","elem","dataset","appType","prevIndex","prevAppId","prev","classes","curAppId","handleKeyPress","numApps","handleInputChange","Desktop","getAppsData","appsZ","maxApps","minApps","forEach","r","transform","transition","spotlight","setWinowsPosition","setProperty","toFixed","toString","closeApp","setAppMax","hideDockAndTopbar","maxZ","currentApp","TypeError","currentTitle","getPropertyValue","setAppMin","minimizeApp","dockAppRect","posY","posX","renderAppWindows","dangerouslySetInnerHTML","__html","init","top","user","avatar","Login","background","Boot","percent","startLoading","loading","setBooting","newPercent","setTimeout","App","login","booting","setRestart","setSleep","rootElement","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.12823455.chunk.js","sourcesContent":["interface FsDocumentElement extends HTMLElement {\n  msRequestFullscreen?: () => void;\n  mozRequestFullScreen?: () => void;\n  webkitRequestFullscreen?: () => void;\n}\n\ninterface FsDocument extends HTMLDocument {\n  webkitIsFullScreen?: boolean;\n  mozFullScreen?: boolean;\n  msFullscreenElement?: Element;\n}\n\nexport const enterFullScreen = (): void => {\n  if (!isFullScreen()) {\n    const element = document.documentElement as FsDocumentElement;\n    if (element.requestFullscreen) element.requestFullscreen();\n    else if (element.msRequestFullscreen) element.msRequestFullscreen();\n    else if (element.mozRequestFullScreen) element.mozRequestFullScreen();\n    else if (element.webkitRequestFullscreen) element.webkitRequestFullscreen();\n  }\n};\n\nexport const exitFullScreen = (): void => {\n  if (isFullScreen()) document.exitFullscreen();\n};\n\nexport const isFullScreen = (): boolean => {\n  const fsDoc = document as FsDocument;\n  return !!(\n    fsDoc.fullscreenElement ||\n    fsDoc.webkitIsFullScreen ||\n    fsDoc.mozFullScreen ||\n    fsDoc.msFullscreenElement\n  );\n};\n","import nightwind from \"nightwind/helper\";\nimport { enterFullScreen, exitFullScreen } from \"../utils/screen\";\n\nexport const type = {\n  TOGGLE_DARK: \"TOGGLE_DARK\",\n  SET_VOLUME: \"SET_VOLUME\",\n  SET_BRIGHTNESS: \"SET_BRIGHTNESS\",\n  TOGGLE_WIFI: \"TOGGLE_WIFI\",\n  TOGGLE_BLUETOOTH: \"TOGGLE_BLUETOOTH\",\n  TOGGLE_AIRDROP: \"TOGGLE_AIRDROP\",\n  TOGGLE_FULLSCREEN: \"TOGGLE_FULLSCREEN\",\n  SET_DOCK_SIZE: \"SET_DOCK_SIZE\",\n  SET_DOCK_MAG: \"SET_DOCK_MAG\"\n};\n\nexport const toggleDark = (dark: boolean) => {\n  nightwind.toggle();\n  return {\n    type: type.TOGGLE_DARK,\n    dark\n  };\n};\n\nexport const setVolume = (volume: number) => {\n  return {\n    type: type.SET_VOLUME,\n    volume\n  };\n};\n\nexport const setBrightness = (brightness: number) => {\n  return {\n    type: type.SET_BRIGHTNESS,\n    brightness\n  };\n};\n\nexport const toggleFullScreen = (fullscreen: boolean) => {\n  fullscreen ? enterFullScreen() : exitFullScreen();\n  return {\n    type: type.TOGGLE_FULLSCREEN,\n    fullscreen\n  };\n};\n\nexport const toggleWIFI = (wifi: boolean) => {\n  return {\n    type: type.TOGGLE_WIFI,\n    wifi\n  };\n};\n\nexport const toggleBleutooth = (bluetooth: boolean) => {\n  return {\n    type: type.TOGGLE_BLUETOOTH,\n    bluetooth\n  };\n};\n\nexport const toggleAirdrop = (airdrop: boolean) => {\n  return {\n    type: type.TOGGLE_AIRDROP,\n    airdrop\n  };\n};\n","import { type } from \"./action\";\n\nconst initState = {\n  dark: false,\n  volume: 100,\n  brightness: 80,\n  wifi: true,\n  bluetooth: true,\n  airdrop: true,\n  fullscreen: false,\n  dockSize: 50,\n  dockMag: 2\n};\n\nexport const Reducer = (state = initState, action: any = {}) => {\n  switch (action.type) {\n    case type.TOGGLE_DARK:\n      return {\n        ...state,\n        dark: action.dark\n      };\n    case type.SET_VOLUME:\n      return {\n        ...state,\n        volume: action.volume\n      };\n    case type.SET_BRIGHTNESS:\n      return {\n        ...state,\n        brightness: action.brightness\n      };\n    case type.TOGGLE_FULLSCREEN:\n      return {\n        ...state,\n        fullscreen: action.fullscreen\n      };\n    case type.TOGGLE_WIFI:\n      return {\n        ...state,\n        wifi: action.wifi\n      };\n    case type.TOGGLE_BLUETOOTH:\n      return {\n        ...state,\n        bluetooth: action.bluetooth\n      };\n    case type.TOGGLE_AIRDROP:\n      return {\n        ...state,\n        airdrop: action.airdrop\n      };\n    case type.SET_DOCK_SIZE:\n      return {\n        ...state,\n        dockSize: action.dockSize\n      };\n    case type.SET_DOCK_MAG:\n      return {\n        ...state,\n        dockMag: action.dockMag\n      };\n    default:\n      return state;\n  }\n};\n","import { createStore } from \"redux\";\nimport { Reducer } from \"./reducer\";\n\nconst store = createStore(Reducer);\n\nexport default store;\n","import React, { Component } from \"react\";\n\ninterface MenuItemProps {\n  onClick?: (e: React.MouseEvent<HTMLLIElement>) => void;\n}\n\ninterface MenuItemGroupProps {\n  border?: boolean;\n}\n\nexport class MenuItem extends Component<MenuItemProps, {}> {\n  render() {\n    return (\n      <li\n        onClick={this.props.onClick}\n        className=\"px-5 leading-6 text-black cursor-default hover:bg-blue-500 hover:text-white\"\n      >\n        {this.props.children}\n      </li>\n    );\n  }\n}\n\nexport class MenuItemGroup extends Component<MenuItemGroupProps, {}> {\n  render() {\n    const border =\n      this.props.border === false ? \"\" : \"border-b-2 border-gray-400\";\n    return <ul className={`py-1 ${border}`}>{this.props.children}</ul>;\n  }\n}\n","import React, { useRef, useEffect } from \"react\";\nimport { MenuItem, MenuItemGroup } from \"./base\";\n\ninterface AppleMenuProps {\n  logout: () => void;\n  shut: (e: React.MouseEvent<HTMLLIElement>) => void;\n  restart: (e: React.MouseEvent<HTMLLIElement>) => void;\n  sleep: (e: React.MouseEvent<HTMLLIElement>) => void;\n  toggleAppleMenu: () => void;\n  btnRef: any;\n}\n\nexport default function AppleMenu({\n  logout,\n  shut,\n  restart,\n  sleep,\n  toggleAppleMenu,\n  btnRef\n}: AppleMenuProps) {\n  const ref = useRef<any>(null);\n\n  useEffect(() => {\n    function handleClickOutside(e: MouseEvent): void {\n      if (\n        ref.current &&\n        !ref.current.contains(e.target) &&\n        !btnRef.current.contains(e.target)\n      )\n        toggleAppleMenu();\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [ref, toggleAppleMenu, btnRef]);\n\n  return (\n    <div\n      className=\"fixed top-6 left-4 w-56 bg-gray-200 bg-opacity-90 blur border-b border-l border-r border-gray-400 border-opacity-50 rounded-b-lg shadow-2xl\"\n      style={{ boxShadow: \"0px 0px 5px 0px rgba(0, 0, 0, 0.3)\" }}\n      ref={ref}\n    >\n      <MenuItemGroup>\n        <MenuItem>About This Mac</MenuItem>\n      </MenuItemGroup>\n      <MenuItemGroup>\n        <MenuItem>System Preferences...</MenuItem>\n        <MenuItem>App Store...</MenuItem>\n      </MenuItemGroup>\n      <MenuItemGroup>\n        <MenuItem>Recent Items</MenuItem>\n      </MenuItemGroup>\n      <MenuItemGroup>\n        <MenuItem>Force Quit...</MenuItem>\n      </MenuItemGroup>\n      <MenuItemGroup>\n        <MenuItem onClick={sleep}>Sleep</MenuItem>\n        <MenuItem onClick={restart}>Restart...</MenuItem>\n        <MenuItem onClick={shut}>Shut Down...</MenuItem>\n      </MenuItemGroup>\n      <MenuItemGroup border={false}>\n        <MenuItem onClick={logout}>Lock Screen</MenuItem>\n        <MenuItem onClick={logout}>Log Out Xiaohan Zou...</MenuItem>\n      </MenuItemGroup>\n    </div>\n  );\n}\n","import React, { Component, createRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"react-rangeslider/lib/index.css\";\nimport { toggleWIFI } from \"../../redux/action\";\n\ninterface WifiMenuRedux {\n  wifi: boolean;\n}\n\ninterface WifiMenuProps extends WifiMenuRedux {\n  toggleWifiMenu: () => void;\n  toggleWIFI: Function;\n  btnRef: any;\n}\n\nclass WifiMenu extends Component<WifiMenuProps, {}> {\n  private wifiRef = createRef<any>();\n\n  constructor(props: WifiMenuProps) {\n    super(props);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  handleClickOutside(e: MouseEvent): void {\n    if (\n      this.wifiRef &&\n      !this.wifiRef.current.contains(e.target) &&\n      !this.props.btnRef.current.contains(e.target)\n    )\n      this.props.toggleWifiMenu();\n  }\n\n  render() {\n    return (\n      <div\n        className=\"fixed h-11 w-80 max-w-full top-8 right-0 sm:right-2 px-2 py-0.5 flex gap-2 bg-gray-200 bg-opacity-90 blur border border-gray-400 border-opacity-50 rounded-lg text-black shadow-2xl\"\n        style={{ boxShadow: \"0px 0px 5px 0px rgba(0, 0, 0, 0.3)\" }}\n        ref={this.wifiRef}\n      >\n        <div className=\"w-4/5 p-2.5 font-medium\">Wi-Fi</div>\n        <div className=\"w-1/5 py-2 text-center\">\n          <label className=\"switch-toggle\">\n            <input\n              type=\"checkbox\"\n              checked={this.props.wifi}\n              onChange={() => this.props.toggleWIFI(!this.props.wifi)}\n            />\n            <span className=\"slider-toggle\"></span>\n          </label>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: WifiMenuRedux) => {\n  return {\n    wifi: state.wifi\n  };\n};\n\nexport default connect(mapStateToProps, {\n  toggleWIFI\n})(WifiMenu);\n","import { MusicData } from \"../types\";\n\nconst music: MusicData = {\n  title: \"Fresh Prince of Bel Air\",\n  artist: \"Will Smith (Le Boeuf Remix)\",\n  cover: \"music/fresh.jpeg\",\n  audio: \"music/fresh.mp3\"\n};\n\nexport default music;\n","import React, { Component, createRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport Slider from \"react-rangeslider\";\nimport \"react-rangeslider/lib/index.css\";\nimport {\n  toggleDark,\n  toggleWIFI,\n  toggleAirdrop,\n  toggleBleutooth,\n  toggleFullScreen\n} from \"../../redux/action\";\nimport music from \"../../configs/music\";\n\n// ------- import icons -------\nimport { FiBluetooth, FiRss } from \"react-icons/fi\";\nimport {\n  BsBrightnessAltHigh,\n  BsPlayFill,\n  BsPauseFill,\n  BsFullscreen,\n  BsFullscreenExit\n} from \"react-icons/bs\";\nimport { IoSunny, IoMoon, IoVolumeHigh } from \"react-icons/io5\";\nimport { FaWifi } from \"react-icons/fa\";\n\ninterface SliderProps {\n  icon: JSX.Element;\n  value: number;\n  setValue: (value: number) => void;\n}\n\nconst SliderComponent = ({ icon, value, setValue }: SliderProps) => {\n  return (\n    <div className=\"slider flex flex-row w-full\">\n      <div className=\"h-7 p-2 bg-gray-100 rounded-l-full border-t border-l border-b border-gray-300\">\n        {icon}\n      </div>\n      <Slider\n        min={1}\n        max={100}\n        value={value}\n        tooltip={false}\n        orientation=\"horizontal\"\n        onChange={(v: number) => setValue(v)}\n      />\n    </div>\n  );\n};\n\ninterface CCMRedux {\n  dark: boolean;\n  wifi: boolean;\n  brightness: number;\n  bluetooth: boolean;\n  airdrop: boolean;\n  fullscreen: boolean;\n  volume: number;\n}\n\ninterface CCMProps extends CCMRedux {\n  btnRef: any;\n  toggleControlCenter: () => void;\n  toggleDark: Function;\n  toggleWIFI: Function;\n  toggleAirdrop: Function;\n  toggleBleutooth: Function;\n  toggleFullScreen: Function;\n  setBrightness: (value: number) => void;\n  setVolume: (value: number) => void;\n  toggleAudio: (target: boolean) => void;\n  playing: boolean;\n}\n\nclass ControlCenterMenu extends Component<CCMProps, {}> {\n  private controlCenterRef = createRef<any>();\n\n  constructor(props: CCMProps) {\n    super(props);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  handleClickOutside(e: MouseEvent): void {\n    if (\n      this.controlCenterRef &&\n      !this.controlCenterRef.current.contains(e.target) &&\n      !this.props.btnRef.current.contains(e.target)\n    )\n      this.props.toggleControlCenter();\n  }\n\n  render() {\n    return (\n      <div\n        className=\"fixed w-80 h-96 max-w-full top-8 right-0 sm:right-2 p-2.5 grid grid-cols-4 grid-rows-5 gap-2 bg-gray-100 bg-opacity-70 blur rounded-2xl text-black border border-gray-400 border-opacity-50\"\n        style={{ boxShadow: \"0px 0px 5px 0px rgba(0, 0, 0, 0.3)\" }}\n        ref={this.controlCenterRef}\n      >\n        <div className=\"control-grid row-span-2 col-span-2 p-2 flex flex-col justify-around\">\n          <div className=\"flex flex-row items-center space-x-2\">\n            <FaWifi\n              size={32}\n              className={`${\n                this.props.wifi\n                  ? \"bg-blue-500 text-white\"\n                  : \"bg-gray-400 bg-opacity-25 text-gray-700\"\n              } rounded-full p-2`}\n              onClick={() => this.props.toggleWIFI(!this.props.wifi)}\n            />\n            <div className=\"flex flex-col pt-0.5\">\n              <span className=\"font-medium leading-4\">Wi-Fi</span>\n              <span className=\"text-xs text-gray-500\">\n                {this.props.wifi ? \"Home\" : \"Off\"}\n              </span>\n            </div>\n          </div>\n          <div className=\"flex flex-row items-center space-x-2\">\n            <FiBluetooth\n              size={32}\n              className={`${\n                this.props.bluetooth\n                  ? \"bg-blue-500 text-white\"\n                  : \"bg-gray-400 bg-opacity-25 text-gray-700\"\n              } rounded-full p-2`}\n              onClick={() => this.props.toggleBleutooth(!this.props.bluetooth)}\n            />\n            <div className=\"flex flex-col pt-0.5\">\n              <span className=\"font-medium leading-4\">Bluetooth</span>\n              <span className=\"text-xs text-gray-500\">\n                {this.props.bluetooth ? \"On\" : \"Off\"}\n              </span>\n            </div>\n          </div>\n          <div className=\"flex flex-row items-center space-x-2\">\n            <FiRss\n              size={32}\n              className={`${\n                this.props.airdrop\n                  ? \"bg-blue-500 text-white\"\n                  : \"bg-gray-400 bg-opacity-25 text-gray-700\"\n              } rounded-full p-2`}\n              onClick={() => this.props.toggleAirdrop(!this.props.airdrop)}\n            />\n            <div className=\"flex flex-col pt-0.5\">\n              <span className=\"font-medium leading-4\">AirDrop</span>\n              <span className=\"text-xs text-gray-500\">\n                {this.props.airdrop ? \"Contacts Only\" : \"Off\"}\n              </span>\n            </div>\n          </div>\n        </div>\n        <div className=\"control-grid col-span-2 p-2 flex flex-row items-center space-x-2\">\n          {this.props.dark ? (\n            <IoMoon\n              size={32}\n              className=\"text-gray-700 bg-gray-400 bg-opacity-25 rounded-full p-2\"\n              onClick={() => this.props.toggleDark(false)}\n            />\n          ) : (\n            <IoSunny\n              size={32}\n              className=\"text-gray-700 bg-gray-400 bg-opacity-25 rounded-full p-2\"\n              onClick={() => this.props.toggleDark(true)}\n            />\n          )}\n          <div className=\"flex flex-col\">\n            <span className=\"font-medium ml-1\">\n              {this.props.dark ? \"Dark Mode\" : \"Light Mode\"}\n            </span>\n          </div>\n        </div>\n        <div className=\"control-grid p-2 flex flex-col justify-center items-center text-center\">\n          <BsBrightnessAltHigh size={20} />\n          <span className=\"text-xs\" style={{ lineHeight: \"0.9rem\" }}>\n            Keyboard Brightness\n          </span>\n        </div>\n        <div\n          className=\"control-grid p-2 flex flex-col justify-center items-center text-center cursor-default\"\n          onClick={() => this.props.toggleFullScreen(!this.props.fullscreen)}\n        >\n          {this.props.fullscreen ? (\n            <BsFullscreenExit size={16} />\n          ) : (\n            <BsFullscreen size={16} />\n          )}\n          <span className=\"text-xs mt-1.5\" style={{ lineHeight: \"0.9rem\" }}>\n            {this.props.fullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\"}\n          </span>\n        </div>\n        <div className=\"control-grid col-span-4 px-2.5 py-2 space-y-1 flex flex-col justify-around\">\n          <span className=\"font-medium ml-0.5\">Display</span>\n          <SliderComponent\n            icon={<IoSunny size={12} className=\"text-gray-500\" />}\n            value={this.props.brightness}\n            setValue={this.props.setBrightness}\n          />\n        </div>\n        <div className=\"control-grid col-span-4 bg-gray-200 bg-opacity-60 blur rounded-xl px-2.5 py-2 space-y-1 flex flex-col justify-around\">\n          <span className=\"font-medium ml-0.5\">Sound</span>\n          <SliderComponent\n            icon={<IoVolumeHigh size={12} className=\"text-gray-500\" />}\n            value={this.props.volume}\n            setValue={this.props.setVolume}\n          />\n        </div>\n        <div className=\"control-grid col-span-4 bg-gray-200 bg-opacity-60 blur rounded-xl p-2 pr-4 flex flex-row justify-between items-center space-x-2.5\">\n          <img src={music.cover} alt=\"cover art\" className=\"w-12 rounded-lg\" />\n          <div className=\"flex flex-col flex-grow justify-start\">\n            <span className=\"font-medium\">{music.title}</span>\n            <span className=\"text-xs text-gray-500\">{music.artist}</span>\n          </div>\n          {this.props.playing ? (\n            <BsPauseFill\n              onClick={() => this.props.toggleAudio(false)}\n              size={24}\n            />\n          ) : (\n            <BsPlayFill\n              onClick={() => this.props.toggleAudio(true)}\n              size={24}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: CCMRedux): CCMRedux => {\n  return {\n    dark: state.dark,\n    wifi: state.wifi,\n    brightness: state.brightness,\n    bluetooth: state.bluetooth,\n    airdrop: state.airdrop,\n    fullscreen: state.fullscreen,\n    volume: state.volume\n  };\n};\n\nexport default connect(mapStateToProps, {\n  toggleDark,\n  toggleWIFI,\n  toggleAirdrop,\n  toggleBleutooth,\n  toggleFullScreen\n})(ControlCenterMenu);\n","import React, { Component, createRef, forwardRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport format from \"date-fns/format\";\n\nimport { macActions } from \"../../types\";\nimport AppleMenu from \"./AppleMenu\";\nimport WifiMenu from \"./WifiMenu\";\nimport ControlCenterMenu from \"./ControlCenterMenu\";\nimport { isFullScreen } from \"../../utils/screen\";\nimport { setVolume, setBrightness, toggleFullScreen } from \"../../redux/action\";\nimport music from \"../../configs/music\";\n\n// ------- import icons -------\nimport { BsBatteryFull } from \"react-icons/bs\";\nimport { BiSearch } from \"react-icons/bi\";\nimport { FaWifi } from \"react-icons/fa\";\nimport { RiSignalWifiLine } from \"react-icons/ri\";\nimport { AiFillApple } from \"react-icons/ai\";\n\ninterface TopBarItemProps {\n  hideOnMobile?: boolean;\n  forceHover?: boolean;\n  onClick?: () => void;\n  children: React.ReactNode;\n}\n\nconst TopBarItem = forwardRef((props: TopBarItemProps, ref: any) => {\n  const hide = props.hideOnMobile ? \"hidden sm:inline-flex\" : \"inline-flex\";\n  const hover = props.forceHover\n    ? \"bg-white bg-opacity-30\"\n    : \"hover:bg-white hover:bg-opacity-30 rounded\";\n  return (\n    <div\n      ref={ref}\n      className={`${hide} cursor-default flex-row space-x-1 ${hover} p-1`}\n      onClick={props.onClick}\n    >\n      {props.children}\n    </div>\n  );\n});\n\ninterface TopBarRedux {\n  volume: number;\n  brightness: number;\n  wifi: boolean;\n}\n\ninterface TopBarProps extends macActions, TopBarRedux {\n  title: string;\n  setVolume: Function;\n  toggleFullScreen: Function;\n  setBrightness: Function;\n  setSpotlightBtnRef: (value: React.RefObject<HTMLDivElement>) => void;\n  hide: boolean;\n  toggleSpotlight: () => void;\n}\n\ninterface TopBarState {\n  date: Date;\n  showControlCenter: boolean;\n  showWifiMenu: boolean;\n  showAppleMenu: boolean;\n  playing: boolean;\n}\n\nclass TopBar extends Component<TopBarProps, TopBarState> {\n  private intervalId = null as any;\n  private appleBtnRef = createRef<any>();\n  private controlCenterBtnRef = createRef<any>();\n  private wifiBtnRef = createRef<any>();\n  private spotlightBtnRef = createRef<any>();\n  private audio = new Audio();\n\n  constructor(props: TopBarProps) {\n    super(props);\n    this.state = {\n      date: new Date(),\n      showControlCenter: false,\n      showWifiMenu: false,\n      showAppleMenu: false,\n      playing: false\n    };\n    this.toggleAudio = this.toggleAudio.bind(this);\n    this.resize.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.setSpotlightBtnRef(this.spotlightBtnRef);\n\n    // current date and time\n    // store intervalId in the state, so we can clear interval later\n    this.intervalId = setInterval(() => {\n      this.setState({\n        date: new Date()\n      });\n    }, 60 * 1000);\n\n    // listen to screen size change\n    window.addEventListener(\"resize\", this.resize);\n\n    // load music\n    this.audio = new Audio(music.audio);\n    this.audio.load();\n\n    // set volume\n    this.audio.volume = this.props.volume / 100;\n\n    // auto replay\n    this.audio.addEventListener(\"ended\", () => this.audio.play());\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalId);\n    window.removeEventListener(\"resize\", this.resize);\n    this.audio.removeEventListener(\"ended\", () => this.audio.play());\n  }\n\n  resize = (): void => {\n    const isFull = isFullScreen();\n    this.props.toggleFullScreen(isFull);\n  };\n\n  toggleAudio = (target: boolean): void => {\n    target ? this.audio.play() : this.audio.pause();\n    this.setState({ playing: target });\n  };\n\n  setVolume = (value: number): void => {\n    this.props.setVolume(value);\n    this.audio.volume = value / 100;\n  };\n\n  setBrightness = (value: number): void => {\n    this.props.setBrightness(value);\n  };\n\n  toggleControlCenter = (): void => {\n    this.setState({\n      showControlCenter: !this.state.showControlCenter\n    });\n  };\n\n  toggleAppleMenu = (): void => {\n    this.setState({\n      showAppleMenu: !this.state.showAppleMenu\n    });\n  };\n\n  toggleWifiMenu = (): void => {\n    this.setState({\n      showWifiMenu: !this.state.showWifiMenu\n    });\n  };\n\n  logout = (): void => {\n    this.toggleAudio(false);\n    this.props.setLogin(false);\n  };\n\n  shut = (e: React.MouseEvent<HTMLLIElement>): void => {\n    this.toggleAudio(false);\n    this.props.shutMac(e);\n  };\n\n  restart = (e: React.MouseEvent<HTMLLIElement>): void => {\n    this.toggleAudio(false);\n    this.props.restartMac(e);\n  };\n\n  sleep = (e: React.MouseEvent<HTMLLIElement>): void => {\n    this.toggleAudio(false);\n    this.props.sleepMac(e);\n  };\n\n  render() {\n    return (\n      <div\n        className={`nightwind-prevent w-full h-6 px-4 fixed top-0 flex flex-row justify-between items-center ${\n          this.props.hide ? \"z-0\" : \"z-20\"\n        } text-sm text-white bg-gray-500 bg-opacity-10 blur shadow transition`}\n      >\n        <div className=\"flex flex-row items-center space-x-4\">\n          <TopBarItem\n            forceHover={this.state.showAppleMenu}\n            onClick={() => this.toggleAppleMenu()}\n            ref={this.appleBtnRef}\n          >\n            <AiFillApple size={18} />\n          </TopBarItem>\n          <span className=\"cursor-default font-semibold\">\n            {this.props.title}\n          </span>\n        </div>\n\n        {/* Open this when clicking on Apple logo */}\n        {this.state.showAppleMenu && (\n          <AppleMenu\n            logout={this.logout}\n            shut={this.shut}\n            restart={this.restart}\n            sleep={this.sleep}\n            toggleAppleMenu={this.toggleAppleMenu}\n            btnRef={this.appleBtnRef}\n          />\n        )}\n\n        <div className=\"flex flex-row justify-end items-center space-x-2\">\n          <TopBarItem hideOnMobile={true}>\n            <span className=\"text-xs mt-0.5 mr-1\">100%</span>\n            <BsBatteryFull size={20} />\n          </TopBarItem>\n          <TopBarItem\n            hideOnMobile={true}\n            onClick={this.toggleWifiMenu}\n            ref={this.wifiBtnRef}\n          >\n            {this.props.wifi ? (\n              <FaWifi size={17} />\n            ) : (\n              <RiSignalWifiLine size={17} />\n            )}\n          </TopBarItem>\n          <TopBarItem\n            ref={this.spotlightBtnRef}\n            onClick={this.props.toggleSpotlight}\n          >\n            <BiSearch size={17} />\n          </TopBarItem>\n          <TopBarItem\n            onClick={this.toggleControlCenter}\n            ref={this.controlCenterBtnRef}\n          >\n            <img\n              className=\"w-4 h-4 filter invert\"\n              src=\"img/icons/menu/controlcenter.png\"\n              alt=\"control center\"\n            />\n          </TopBarItem>\n\n          {/* Open this when clicking on Wifi button */}\n          {this.state.showWifiMenu && (\n            <WifiMenu\n              toggleWifiMenu={this.toggleWifiMenu}\n              btnRef={this.wifiBtnRef}\n            />\n          )}\n\n          {/* Open this when clicking on Control Center button */}\n          {this.state.showControlCenter && (\n            <ControlCenterMenu\n              playing={this.state.playing}\n              toggleAudio={this.toggleAudio}\n              setVolume={this.setVolume}\n              setBrightness={this.setBrightness}\n              toggleControlCenter={this.toggleControlCenter}\n              btnRef={this.controlCenterBtnRef}\n            />\n          )}\n\n          <span>{format(this.state.date, \"eee MMM d\")}</span>\n          <span>{format(this.state.date, \"h:mm aa\")}</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: TopBarRedux): TopBarRedux => {\n  return {\n    volume: state.volume,\n    brightness: state.brightness,\n    wifi: state.wifi\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setVolume,\n  setBrightness,\n  toggleFullScreen\n})(TopBar);\n","import React, { Component, createRef } from \"react\";\nimport Webcam from \"react-webcam\";\n\nconst videoConstraints = {\n  facingMode: \"user\"\n};\n\ninterface FaceTimeState {\n  click: boolean;\n  img: string | null;\n}\n\nexport default class FaceTime extends Component<{}, FaceTimeState> {\n  private webcamRef = createRef<any>();\n\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      img: null,\n      click: false\n    };\n  }\n\n  capture = () => {\n    const imageSrc = this.webcamRef.current.getScreenshot();\n    this.setState({ img: imageSrc });\n  };\n\n  render() {\n    if (this.state.click)\n      return (\n        <div\n          id=\"container\"\n          className=\"nightwind-prevent nightwind-prevent-block border-8 bg-gray-800 h-full flex space-y-6 flex-col justify-center items-center\"\n        >\n          {this.state.img && (\n            <img\n              className=\"max-h-60 md:max-h-96\"\n              src={this.state.img}\n              alt=\"yourimage\"\n            />\n          )}\n          <button\n            className=\"mx-auto outline-none focus:outline-none items-center justify-center bg-white h-6 w-20 border border-black border-opacity-50 rounded-full\"\n            onClick={() => {\n              this.setState({ click: false });\n            }}\n          >\n            <b>Retake</b>\n          </button>\n        </div>\n      );\n    else\n      return (\n        <div\n          id=\"container\"\n          className=\"nightwind-prevent nightwind-prevent-block bg-gray-800 h-full flex space-y-6 flex-col justify-center items-center\"\n        >\n          <Webcam\n            className=\"border-8 max-h-60 md:max-h-96\"\n            audio={false}\n            ref={this.webcamRef}\n            screenshotFormat=\"image/jpeg\"\n            videoConstraints={videoConstraints}\n          />\n          <button\n            className=\"mx-auto outline-none focus:outline-none items-center justify-center bg-white h-12 w-12 border border-black border-opacity-50 rounded-full\"\n            onClick={() => {\n              this.setState({ click: true });\n              this.capture();\n            }}\n          />\n        </div>\n      );\n  }\n}\n","import { TerminalData } from \"../types\";\n\nconst terminal: TerminalData[] = [\n  {\n    id: \"about\",\n    title: \"about\",\n    type: \"folder\",\n    children: [\n      {\n        id: \"about-bio\",\n        title: \"bio.txt\",\n        type: \"file\",\n        content: (\n          <div className=\"py-1\">\n            <div>\n              Shirley Xiaolin Xu is a back-end engineer at HashiCorp, based in\n              New York City. She spends most of her daylight hours wrestling\n              Kubernetes, and evenings wondering why she's still pursuing a\n              Masters of Science in Cybersecurity at NYU.\n            </div>\n            <div className=\"mt-1\">\n              Before domestication by the good 'ol 9-5, she spent six years\n              researching the intersection of Capitalism, Socialism, and\n              Sustainability. After which she lived a nomadic lifestyle and ran\n              several small businesses in East Asia.\n            </div>\n          </div>\n        )\n      },\n      {\n        id: \"about-interests\",\n        title: \"interests.txt\",\n        type: \"file\",\n        content: (\n          <div className=\"py-1\">\n            <div>\n              I am passionate about sustainable development and marine\n              conservation. I'm a hobbyist freediver and certified Rescue Diver,\n              and volunteer annually with Project AWARE and ReefCI to clean the\n              reefs and hunt invasive lionfish.\n            </div>\n            <div className=\"mt-1\">\n              On land, I love to hike, camp, climb, travel, and explore; I train\n              for adventures with calisthenics, drink too much on the weekends,\n              and stay up too late reading comics in bed.\n            </div>\n          </div>\n        )\n      },\n      {\n        id: \"about-contact\",\n        title: \"contact.txt\",\n        type: \"file\",\n        content: (\n          <ul className=\"list-disc ml-6\">\n            <li>\n              Email:{\" \"}\n              <a\n                className=\"text-blue-300\"\n                href=\"mailto:shirleyxiaolinxu@gmail.com\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                shirleyxiaolinxu@gmail.com\n              </a>\n            </li>\n            <li>\n              Github:{\" \"}\n              <a\n                className=\"text-blue-300\"\n                href=\"https://github.com/xiaolin-ninja\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                https://github.com/xiaolin-ninja\n              </a>\n            </li>\n            <li>\n              Linkedin:{\" \"}\n              <a\n                className=\"text-blue-300\"\n                href=\"https://www.linkedin.com/in/shxxu\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                https://www.linkedin.com/in/shxxu\n              </a>\n            </li>\n          </ul>\n        )\n      }\n    ]\n  },\n  {\n    id: \"about-dream\",\n    title: \"my-dream.cpp\",\n    type: \"file\",\n    content: (\n      <div className=\"py-1\">\n        <div>\n          <span className=\"text-yellow-400\">while</span>(\n          <span className=\"text-blue-400\">sleeping</span>) <span>{\"{\"}</span>\n        </div>\n        <div>\n          <span className=\"text-blue-400 ml-9\">money</span>\n          <span className=\"text-yellow-400\">++</span>;\n        </div>\n        <div>\n          <span>{\"}\"}</span>\n        </div>\n      </div>\n    )\n  }\n];\n\nexport default terminal;\n","import React, { Component } from \"react\";\nimport terminal from \"../../configs/terminal\";\nimport { TerminalData } from \"../../types\";\n\nconst emojis = [\n  \"\\\\(o_o)/\",\n  \"╰། ◉ ◯ ◉ །╯\",\n  \"(╯‵□′)╯\",\n  \"ლ(｀ー´ლ)\",\n  \"ಥ_ಥ\",\n  \"ヽ(ಠ_ಠ)ノ\",\n  \"\\\\(°ˊДˋ°)/\",\n  \"╰(‵□′)╯\"\n];\n\nconst getEmoji = () => {\n  return emojis[Math.floor(Math.random() * emojis.length)];\n};\n\nconst characters =\n  \"ΑαΒβCΓγDΔδEεFΖζGΗηHθΙιJΚκLΛλΜμΝνΞξΟοΠπΡρQRΣSςΤτUVWΥυΦφΧχΨψΩωZ0123456789富强民主文明和谐自由平等公正法治爱国敬业诚信友善\";\n\ninterface ButWhyProps {\n  setRMRF: (value: boolean) => void;\n}\n\ninterface TerminalState {\n  rmrf: boolean;\n  content: JSX.Element[];\n}\n\n// rain animation is adopted from: https://codepen.io/P3R0/pen/MwgoKv\nclass ButWhy extends Component<ButWhyProps> {\n  private $canvas = null as HTMLCanvasElement | null;\n  private ctx = null as CanvasRenderingContext2D | null;\n  private intervalId = null as any;\n  private emoji = getEmoji();\n  private font_size = 12;\n  private drops = [] as number[];\n\n  componentDidMount() {\n    const $container = document.querySelector(\n      \"#but-why-container\"\n    ) as HTMLElement;\n    this.$canvas = document.querySelector(\"#but-why\") as HTMLCanvasElement;\n    this.$canvas.height = $container.offsetHeight;\n    this.$canvas.width = $container.offsetWidth;\n    this.ctx = this.$canvas.getContext(\"2d\");\n\n    const columns = this.$canvas.width / this.font_size;\n    this.drops = [];\n    // x: x coordinate, 1: y-coordinate\n    for (let x = 0; x < columns; x++) this.drops[x] = 1;\n\n    this.intervalId = setInterval(this.rain.bind(this), 33);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalId);\n  }\n\n  rain() {\n    this.ctx = this.ctx as CanvasRenderingContext2D;\n    this.$canvas = this.$canvas as HTMLCanvasElement;\n\n    this.ctx.fillStyle = \"rgba(0, 0, 0, 0.05)\";\n    this.ctx.fillRect(0, 0, this.$canvas.width, this.$canvas.height);\n\n    this.ctx.fillStyle = \"#2e9244\";\n    this.ctx.font = `${this.font_size}px arial`;\n\n    for (let i = 0; i < this.drops.length; i++) {\n      const text = characters[Math.floor(Math.random() * characters.length)];\n\n      this.ctx.fillText(\n        text,\n        i * this.font_size,\n        this.drops[i] * this.font_size\n      );\n\n      // sends the drop back to the top randomly after it has crossed the screen\n      // adding randomness to the reset to make the drops scattered on the Y axis\n      if (\n        this.drops[i] * this.font_size > this.$canvas.height &&\n        Math.random() > 0.975\n      )\n        this.drops[i] = 0;\n\n      // increments Y coordinate\n      this.drops[i]++;\n    }\n  }\n\n  render() {\n    return (\n      <div\n        id=\"but-why-container\"\n        className=\"fixed w-full h-full bg-black text-white\"\n        onClick={() => this.props.setRMRF(false)}\n      >\n        <canvas id=\"but-why\"></canvas>\n        <div className=\"font-avenir absolute text-center h-28 mx-auto -mt-20 bottom-0 left-0 right-0 top-1/2\">\n          <div className=\"text-4xl\">{this.emoji}</div>\n          <div className=\"text-3xl mt-4\">BUT WHY?!</div>\n          <div className=\"mt-4\">click to undo, ya maniac</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default class Terminal extends Component<{}, TerminalState> {\n  private history = [] as string[];\n  private curHistory = 0;\n  private curInputTimes = 0;\n  private curDirPath = [] as any;\n  private curChildren = terminal as any;\n  private commands: {\n    [key: string]: { (): void } | { (arg?: string): void };\n  };\n\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      content: [],\n      rmrf: false\n    };\n    this.commands = {\n      cd: this.cd,\n      ls: this.ls,\n      cat: this.cat,\n      clear: this.clear,\n      help: this.help\n    };\n  }\n\n  componentDidMount() {\n    this.reset();\n    this.generateInputRow(this.curInputTimes);\n  }\n\n  reset = (): void => {\n    const $terminal = document.querySelector(\n      \"#terminal-content\"\n    ) as HTMLElement;\n    $terminal.innerHTML = \"\";\n  };\n\n  getCurDirName = () => {\n    if (this.curDirPath.length === 0) return \"~\";\n    else return this.curDirPath[this.curDirPath.length - 1];\n  };\n\n  getCurChildren = () => {\n    let children = terminal as any;\n    for (let name of this.curDirPath) {\n      children = children.find((item: TerminalData) => {\n        return item.title === name && item.type === \"folder\";\n      }).children;\n    }\n    return children;\n  };\n\n  // move into a specified folder\n  cd = (args?: string): void => {\n    if (args === undefined || args === \"~\") {\n      // move to root\n      this.curDirPath = [];\n      this.curChildren = terminal;\n    } else if (args === \".\") {\n      // stay in the current folder\n      return;\n    } else if (args === \"..\") {\n      // move to parent folder\n      if (this.curDirPath.length === 0) return;\n      this.curDirPath.pop();\n      this.curChildren = this.getCurChildren();\n    } else {\n      // move to certain child folder\n      const target = this.curChildren.find((item: TerminalData) => {\n        return item.title === args && item.type === \"folder\";\n      });\n      if (target === undefined) {\n        this.generateResultRow(\n          this.curInputTimes,\n          <span>{`cd: no such file or directory: ${args}`}</span>\n        );\n      } else {\n        this.curChildren = target.children;\n        this.curDirPath.push(target.title);\n      }\n    }\n  };\n\n  // display content of a specified folder\n  ls = (): void => {\n    let result = [];\n    for (let item of this.curChildren) {\n      result.push(\n        <span\n          key={`terminal-result-ls-${this.curInputTimes}-${item.id}`}\n          className={`${\n            item.type === \"file\" ? \"text-white\" : \"text-purple-300\"\n          }`}\n        >\n          {item.title}\n        </span>\n      );\n    }\n    this.generateResultRow(\n      this.curInputTimes,\n      <div className=\"grid grid-cols-4 w-full\">{result}</div>\n    );\n  };\n\n  // display content of a specified file\n  cat = (args?: string): void => {\n    const file = this.curChildren.find((item: TerminalData) => {\n      return item.title === args && item.type === \"file\";\n    });\n\n    if (file === undefined) {\n      this.generateResultRow(\n        this.curInputTimes,\n        <span>{`cat: ${args}: No such file or directory`}</span>\n      );\n    } else {\n      this.generateResultRow(this.curInputTimes, <span>{file.content}</span>);\n    }\n  };\n\n  // clear terminal\n  clear = (): void => {\n    this.curInputTimes += 1;\n    this.reset();\n  };\n\n  help = (): void => {\n    const help = (\n      <ul className=\"list-disc ml-6 pb-1.5\">\n        <li>\n          <span className=\"text-red-400\">cat {\"<file>\"}</span> - See the content\n          of {\"<file>\"}\n        </li>\n        <li>\n          <span className=\"text-red-400\">cd {\"<ul>\"}</span> - Move into\n          {\" <ul>\"}, \"cd ..\" to move to the parent directory, \"cd\" or \"cd ~\" to\n          return to root\n        </li>\n        <li>\n          <span className=\"text-red-400\">ls</span> - See files and directories\n          in the current directory\n        </li>\n        <li>\n          <span className=\"text-red-400\">clear</span> - Clear the screen\n        </li>\n        <li>\n          <span className=\"text-red-400\">help</span> - Display this help menu\n        </li>\n        <li>\n          <span className=\"text-red-400\">rm -rf /</span> - :)\n        </li>\n        <li>\n          press <span className=\"text-red-400\">up arrow / down arrow</span> -\n          Select history commands\n        </li>\n        <li>\n          press <span className=\"text-red-400\">tab</span> - Auto complete\n        </li>\n      </ul>\n    );\n    this.generateResultRow(this.curInputTimes, help);\n  };\n\n  autoComplete = (text: string): string => {\n    if (text === \"\") return text;\n\n    const input = text.split(\" \");\n    const cmd = input[0];\n    const args = input[1];\n\n    let result = text;\n\n    if (args === undefined) {\n      const guess = Object.keys(this.commands).find((item) => {\n        return item.substring(0, cmd.length) === cmd;\n      });\n      if (guess !== undefined) result = guess;\n    } else if (cmd === \"cd\" || cmd === \"cat\") {\n      const type = cmd === \"cd\" ? \"folder\" : \"file\";\n      const guess = this.curChildren.find((item: TerminalData) => {\n        return (\n          item.type === type && item.title.substring(0, args.length) === args\n        );\n      });\n      if (guess !== undefined) result = cmd + \" \" + guess.title;\n    }\n    return result;\n  };\n\n  keyPress = (e: React.KeyboardEvent): void => {\n    const keyCode = e.key;\n    const $input = document.querySelector(\n      `#terminal-input-${this.curInputTimes}`\n    ) as HTMLInputElement;\n    const input_text = $input.value.trim();\n    const input = input_text.split(\" \");\n\n    if (keyCode === \"Enter\") {\n      // ----------- run command -----------\n      this.history.push(input_text);\n\n      const cmd = input[0];\n      const args = input[1];\n\n      // we can't edit the past input\n      $input.setAttribute(\"readonly\", \"true\");\n\n      if (input_text.substr(0, 6) === \"rm -rf\") this.setState({ rmrf: true });\n      else if (cmd && Object.keys(this.commands).includes(cmd)) {\n        this.commands[cmd](args);\n      } else {\n        this.generateResultRow(\n          this.curInputTimes,\n          <span>{`command not found: ${cmd}`}</span>\n        );\n      }\n\n      // point to the last history command\n      this.curHistory = this.history.length;\n\n      // generate new input row\n      this.curInputTimes += 1;\n      this.generateInputRow(this.curInputTimes);\n    } else if (keyCode === \"ArrowUp\") {\n      // ----------- previous history command -----------\n      if (this.history.length > 0) {\n        if (this.curHistory > 0) this.curHistory--;\n        $input.value = this.history[this.curHistory];\n      }\n    } else if (keyCode === \"ArrowDown\") {\n      // ----------- next history command -----------\n      if (this.history.length > 0) {\n        if (this.curHistory < this.history.length) this.curHistory++;\n        if (this.curHistory === this.history.length) $input.value = \"\";\n        else {\n          $input.value = this.history[this.curHistory];\n        }\n      }\n    } else if (keyCode === \"Tab\") {\n      // ----------- auto complete -----------\n      $input.value = this.autoComplete(input_text);\n      // prevent tab outside the terminal\n      e.preventDefault();\n    }\n  };\n\n  focusOnInput = (id: number): void => {\n    const input = document.querySelector(\n      `#terminal-input-${id}`\n    ) as HTMLInputElement;\n    input.focus();\n  };\n\n  generateInputRow = (id: number): void => {\n    const newRow = (\n      <div key={`terminal-input-row-${id}`} className=\"w-full h-6 flex\">\n        <div className=\"w-max flex items-center\">\n          <span className=\"text-yellow-200\">\n            xx@macbook-pro{\" \"}\n            <span className=\"text-green-300\">{this.getCurDirName()}</span>\n          </span>\n          <span className=\"ml-1.5 text-red-400\">{\">\"}</span>\n        </div>\n        <input\n          id={`terminal-input-${id}`}\n          className=\"flex-1 w-full px-1 text-white outline-none bg-transparent\"\n          onKeyDown={this.keyPress}\n          autoFocus={true}\n        />\n      </div>\n    );\n    let content = this.state.content;\n    content.push(newRow);\n    this.setState({ content });\n  };\n\n  generateResultRow = (id: number, result: JSX.Element) => {\n    const newRow = (\n      <div\n        key={`terminal-result-row-${id}`}\n        className=\"w-full h-max leading-5 flex\"\n      >\n        {result}\n      </div>\n    );\n    let content = this.state.content;\n    content.push(newRow);\n    this.setState({ content });\n  };\n\n  render() {\n    return (\n      <div\n        className=\"terminal font-terminal relative nightwind-prevent nightwind-prevent-block w-full h-full bg-gray-800 bg-opacity-90 text-white text-sm font-normal overflow-y-scroll\"\n        onClick={() => this.focusOnInput(this.curInputTimes)}\n      >\n        {this.state.rmrf && (\n          <ButWhy\n            setRMRF={(value: boolean) => this.setState({ rmrf: value })}\n          />\n        )}\n        <div className=\"w-full h-max pt-2 px-1.5 \">\n          <span className=\"text-green-300\">ヽ(ˋ▽ˊ)ノ</span>: Hey, you found the\n          terminal! Type `help` to get started.\n        </div>\n        <div id=\"terminal-content\" className=\"mt-2 px-1.5 pb-2\">\n          {this.state.content}\n        </div>\n      </div>\n    );\n  }\n}\n","import { WebsitesData } from \"../types\";\n\nconst websites: WebsitesData = {\n  favorites: {\n    title: \"Get in Touch\",\n    sites: [\n      {\n        id: \"my-github\",\n        title: \"Github\",\n        img: \"img/sites/github.svg\",\n        link: \"https://github.com/xiaolin-ninja\"\n      },\n      {\n        id: \"my-linkedin\",\n        title: \"Linkedin\",\n        img: \"img/sites/linkedin.svg\",\n        link: \"https://www.linkedin.com/in/shxxu\"\n      },\n      {\n        id: \"my-email\",\n        title: \"Email\",\n        img: \"img/sites/gmail.svg\",\n        link: \"mailto:shirleyxiaolinxu@gmail.com\"\n      }\n    ]\n  },\n  freq: {\n    title: \"Frequently Visited\",\n    sites: [\n      {\n        id: \"oldportfolio\",\n        title: \"Portfolio v1\",\n        img: \"img/sites/favicon.ico\",\n        link: \"https://v1.xiaolin.ninja/\"\n      },\n      {\n        id: \"waypoint\",\n        title: \"Waypoint\",\n        img: \"img/sites/waypoint.png\",\n        link: \"https://www.waypointproject.io/\"\n      },\n      {\n        id: \"hashicorp\",\n        title: \"HashiCorp\",\n        img: \"img/sites/hashi.png\",\n        link: \"https://www.hashicorp.com/\"\n      },\n      {\n        id: \"heroku\",\n        title: \"Heroku\",\n        img: \"img/sites/heroku.png\",\n        link: \"https://www.heroku.com/\"\n      },\n      {\n        id: \"webtoon\",\n        title: \"Webtoons\",\n        img: \"img/sites/webtoon.svg\",\n        link: \"https://www.webtoons.com/en/\"\n      },\n      {\n        id: \"economist\",\n        title: \"Economist\",\n        img: \"img/sites/economist.png\",\n        link: \"https://www.economist.com/podcasts\"\n      },\n      {\n        id: \"oculus\",\n        title: \"Oculus\",\n        img: \"img/sites/oculus.png\",\n        link: \"https://developer.oculus.com/\"\n      },\n      {\n        id: \"reddit\",\n        title: \"Reddit\",\n        img: \"img/sites/reddit.svg\",\n        link: \"https://www.reddit.com/\"\n      },\n      {\n        id: \"netflix\",\n        title: \"Netflix\",\n        img: \"img/sites/netflix.png\",\n        link: \"https://www.netflix.com/\"\n      },\n      {\n        id: \"soundcloud\",\n        title: \"Soundcloud\",\n        img: \"img/sites/soundcloud.jpeg\",\n        link: \"https://www.soundcloud.com/\"\n      },\n      {\n        id: \"instagram\",\n        title: \"Instagram\",\n        img: \"img/sites/instagram.png\",\n        link: \"https://www.instagram.com/xiaolin.ninja/\"\n      }\n    ]\n  }\n};\n\nexport default websites;\n","import { WallpaperData } from \"../types\";\n\nconst wallpapers: WallpaperData = {\n  day: \"img/ui/wallpaper-day.jpg\",\n  night: \"img/ui/wallpaper-night.jpg\"\n};\n\nexport default wallpapers;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport websites from \"../../configs/websites\";\nimport wallpapers from \"../../configs/wallpapers\";\nimport { FaShieldAlt } from \"react-icons/fa\";\nimport { FiChevronLeft, FiChevronRight } from \"react-icons/fi\";\nimport { BsLayoutSidebar } from \"react-icons/bs\";\nimport { IoShareOutline, IoCopyOutline } from \"react-icons/io5\";\nimport { checkURL } from \"../../utils/url\";\nimport { SiteSectionData, SiteData } from \"../../types\";\n\ninterface SafariRedux {\n  dark?: boolean;\n  wifi?: boolean;\n}\n\ninterface SafariProps extends SafariRedux {\n  width?: number;\n}\n\ninterface SafariState {\n  goURL: string;\n  currentURL: string;\n}\n\ninterface NoInternetProps {\n  dark: boolean;\n}\n\ninterface Nav {\n  width: number;\n  setGoURL: (url: string) => void;\n}\n\ninterface NavSectionProps extends Nav {\n  section: SiteSectionData;\n}\n\ninterface NavProps extends Nav {\n  dark: boolean;\n}\n\nclass NavSection extends Component<NavSectionProps> {\n  render() {\n    const grid = this.props.width < 640 ? \"grid-cols-4\" : \"grid-cols-9\";\n    return (\n      <div className=\"mx-auto pt-8 w-full max-w-screen-md px-4\">\n        <div className=\"text-xl sm:text-2xl font-medium ml-2 text-black\">\n          {this.props.section.title}\n        </div>\n        <div className={`mt-3 grid grid-flow-row ${grid}`}>\n          {this.props.section.sites.map((site: SiteData) => (\n            <div\n              key={`safari-nav-${site.id}`}\n              className=\"h-28 w-full flex justify-center items-center\"\n            >\n              <div className=\"h-full w-full flex flex-col\">\n                <div className=\"nightwind-prevent h-max w-max mx-auto bg-white rounded-md\">\n                  {site.img ? (\n                    <img\n                      className=\"w-16 h-16 mx-auto rounded-md\"\n                      src={site.img}\n                      alt={site.title}\n                      title={site.title}\n                      onClick={\n                        site.inner\n                          ? () => this.props.setGoURL(site.link)\n                          : () => window.open(site.link)\n                      }\n                    />\n                  ) : (\n                    <div\n                      className=\"w-16 h-16 mx-auto rounded-md flex justify-center items-center cursor-default\"\n                      onClick={\n                        site.inner\n                          ? () => this.props.setGoURL(site.link)\n                          : () => window.open(site.link)\n                      }\n                    >\n                      <span className=\"text-lg text-center\">{site.title}</span>\n                    </div>\n                  )}\n                </div>\n                <span className=\"mt-2 mx-auto text-black text-sm\">\n                  {site.title}\n                </span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst numTracker = Math.floor(Math.random() * 99 + 1);\n\nclass NavPage extends Component<NavProps> {\n  render() {\n    const grid = this.props.width < 640 ? \"grid-cols-4\" : \"grid-cols-8\";\n    const span = this.props.width < 640 ? \"col-span-3\" : \"col-span-7\";\n\n    return (\n      <div\n        className=\"w-full safari-content overflow-y-scroll bg-center bg-cover\"\n        style={{\n          backgroundImage: `url(${\n            this.props.dark ? wallpapers.night : wallpapers.day\n          })`\n        }}\n      >\n        <div className=\"w-full min-h-full pt-8 bg-gray-100 bg-opacity-80 blur\">\n          {/* Favorites */}\n          <NavSection\n            section={websites.favorites}\n            setGoURL={this.props.setGoURL}\n            width={this.props.width}\n          />\n\n          {/* Frequently Visited */}\n          <NavSection\n            section={websites.freq}\n            setGoURL={this.props.setGoURL}\n            width={this.props.width}\n          />\n\n          {/* Privacy Report */}\n          <div className=\"mx-auto pt-8 pb-16 px-6 w-full max-w-screen-md px-4\">\n            <div className=\"text-xl sm:text-2xl text-black font-medium\">\n              Privacy Report\n            </div>\n            <div\n              className={`h-16 w-full mt-4 grid ${grid} bg-gray-50 bg-opacity-70 shadow-md rounded-xl text-sm`}\n            >\n              <div className=\"text-black col-start-1 col-span-1 flex flex-row items-center justify-center space-x-2\">\n                <FaShieldAlt size={24} />\n                <span className=\"text-xl\">{numTracker}</span>\n              </div>\n              <div\n                className={`col-start-2 ${span} flex items-center text-black px-2`}\n              >\n                In the last seven days, Safari has prevented {numTracker}{\" \"}\n                trackers from profiling you.\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass NoInternetPage extends Component<NoInternetProps> {\n  render() {\n    return (\n      <div\n        className=\"w-full safari-content bg-blue-50 overflow-y-scroll bg-center bg-cover\"\n        style={{\n          backgroundImage: `url(${\n            this.props.dark ? wallpapers.night : wallpapers.day\n          })`\n        }}\n      >\n        <div className=\"w-full h-full bg-gray-100 bg-opacity-80 blur flex items-center justify-center\">\n          <div\n            className={`pb-10 text-center ${\n              this.props.dark ? \"text-gray-500\" : \"text-gray-600\"\n            }`}\n          >\n            <div className=\"text-2xl font-bold\">\n              You Are Not Connected to the Internet\n            </div>\n            <div className=\"pt-4 text-sm\">\n              This page can't be displayed because your computer is currently\n              offline.\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Safari extends Component<SafariProps, SafariState> {\n  constructor(props: SafariProps) {\n    super(props);\n    this.state = {\n      goURL: \"\",\n      currentURL: \"\"\n    };\n  }\n\n  setGoURL = (url: string) => {\n    const isValid = checkURL(url);\n\n    if (isValid) {\n      if (\n        url.substring(0, 7) !== \"http://\" &&\n        url.substring(0, 8) !== \"https://\"\n      )\n        url = `https://${url}`;\n    } else if (url !== \"\") {\n      url = `https://www.bing.com/search?q=${url}`;\n    }\n\n    this.setState({\n      goURL: url,\n      currentURL: url\n    });\n  };\n\n  pressURL = (e: React.KeyboardEvent) => {\n    const keyCode = e.key;\n    if (keyCode === \"Enter\")\n      this.setGoURL((e.target as HTMLInputElement).value);\n  };\n\n  render() {\n    const buttonColor =\n      this.state.goURL === \"\" ? \"text-gray-400\" : \"text-gray-700\";\n    const grid =\n      (this.props.width as number) < 640 ? \"grid-cols-2\" : \"grid-cols-3\";\n    const hideLast = (this.props.width as number) < 640 ? \"hidden\" : \"\";\n\n    return (\n      <div className=\"w-full h-full bg-white\">\n        {/* browser topbar */}\n        <div className={`h-10 grid ${grid} flex items-center bg-white`}>\n          <div className=\"flex flex-row px-2\">\n            <button\n              className={`w-7 h-6 border border-gray-300 ${buttonColor} outline-none focus:outline-none rounded flex justify-center items-center`}\n              onClick={() => this.setGoURL(\"\")}\n            >\n              <FiChevronLeft size={20} />\n            </button>\n            <button className=\"w-7 h-6 border border-gray-300 text-gray-400 outline-none focus:outline-none rounded flex justify-center items-center\">\n              <FiChevronRight size={20} />\n            </button>\n            <button className=\"w-9 h-6 ml-3 border border-gray-300 text-gray-700 outline-none focus:outline-none rounded flex justify-center items-center\">\n              <BsLayoutSidebar size={14} />\n            </button>\n          </div>\n          <div className=\"flex flex-row justify-center px-2\">\n            <button className=\"w-9 h-6 mr-2 -ml-10 border border-gray-300 text-gray-400 outline-none focus:outline-none rounded flex justify-center items-center\">\n              <FaShieldAlt size={14} />\n            </button>\n            <input\n              type=\"text\"\n              value={this.state.currentURL}\n              onChange={(e) => this.setState({ currentURL: e.target.value })}\n              onKeyPress={this.pressURL}\n              className=\"h-6 w-full p-2 rounded text-sm text-center font-normal text-gray-500 bg-gray-200 outline-none focus:outline-none border-2 border-transparent focus:border-blue-400\"\n              placeholder=\"Search or enter website name\"\n            />\n          </div>\n          <div className={`flex flex-row justify-end px-2 ${hideLast}`}>\n            <button\n              className={`w-9 h-6 border border-gray-300 ${buttonColor} outline-none focus:outline-none rounded flex justify-center items-center`}\n            >\n              <IoShareOutline size={16} />\n            </button>\n            <button className=\"w-9 h-6 ml-2 border border-gray-300 text-gray-700 outline-none focus:outline-none rounded flex justify-center items-center\">\n              <IoCopyOutline size={16} />\n            </button>\n          </div>\n        </div>\n\n        {/* browser content */}\n        {this.props.wifi ? (\n          this.state.goURL === \"\" ? (\n            <NavPage\n              setGoURL={this.setGoURL}\n              width={this.props.width as number}\n              dark={this.props.dark as boolean}\n            />\n          ) : (\n            <iframe\n              title={\"Safari clone browser\"}\n              src={this.state.goURL}\n              frameBorder=\"0\"\n              className=\"safari-content w-full\"\n            />\n          )\n        ) : (\n          <NoInternetPage dark={this.props.dark as boolean} />\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: SafariRedux): SafariRedux => {\n  return {\n    dark: state.dark,\n    wifi: state.wifi\n  };\n};\n\nexport default connect(mapStateToProps, null)(Safari);\n","// https://stackoverflow.com/questions/5717093/check-if-a-javascript-string-is-a-url\nexport const checkURL = (str: string): boolean => {\n  const pattern = new RegExp(\n    \"^(https?:\\\\/\\\\/)?\" + // protocol\n      \"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|\" + // domain name\n      \"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\" + // OR ip (v4) address\n      \"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\" + // port and path\n      \"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\" + // query string\n      \"(\\\\#[-a-z\\\\d_]*)?$\",\n    \"i\" // fragment locator\n  );\n  return !!pattern.test(str);\n};\n","import { FaPaw } from \"react-icons/fa\";\nimport {\n  GiBoombox,\n  GiNinjaVelociraptor,\n  GiVanillaFlower,\n  GiCommercialAirplane\n} from \"react-icons/gi\";\nimport { GoRepo, GoBrowser } from \"react-icons/go\";\n\nimport { BearData } from \"../types\";\n\nconst bear: BearData[] = [\n  {\n    id: \"profile\",\n    title: \"Profile\",\n    icon: <FaPaw />,\n    md: [\n      {\n        id: \"synopsis\",\n        title: \"Synopsis\",\n        file: \"markdown/synopsis.md\",\n        icon: <GiBoombox />,\n        excerpt: \"Now this is the story all about how my life...\"\n      },\n      {\n        id: \"about-me\",\n        title: \"About Me\",\n        file: \"markdown/about-me.md\",\n        icon: <GiNinjaVelociraptor />,\n        excerpt: \"What I bring to the table: Interdisciplinary...\"\n      },\n      {\n        id: \"about-site\",\n        title: \"About This Site\",\n        file: \"markdown/about-site.md\",\n        icon: <GoBrowser />,\n        excerpt: \"This site was inspired by macOS...\"\n      }\n    ]\n  },\n  {\n    id: \"project\",\n    title: \"Projects\",\n    icon: <GoRepo />,\n    md: [\n      {\n        id: \"whatsapptunneler\",\n        title: \"WhatsApp Tunneler\",\n        file: \"https://raw.githubusercontent.com/xiaolin-ninja/WhatsAppTunneler/main/README.md\",\n        icon: <GiCommercialAirplane />,\n        excerpt: \"Bypass in-flight WiFi firewall by tunneling traffic...\",\n        link: \"https://github.com/xiaolin-ninja/WhatsAppTunneler\"\n      },\n      {\n        id: \"budbud\",\n        title: \"BudBud\",\n        file: \"https://raw.githubusercontent.com/xiaolin-ninja/BudBud/master/README.md\",\n        icon: <GiVanillaFlower />,\n        excerpt: \"BudBud, a buddy for your bud.\",\n        link: \"https://github.com/xiaolin-ninja/BudBud\"\n      }\n    ]\n  }\n];\n\nexport default bear;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport ReactMarkdown from \"react-markdown\";\nimport gfm from \"remark-gfm\";\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { dracula, prism } from \"react-syntax-highlighter/dist/esm/styles/prism\";\nimport bear from \"../../configs/bear\";\nimport { BearMdData } from \"../../types\";\nimport { IoCloudOfflineOutline } from \"react-icons/io5\";\nimport { GiSettingsKnobs } from \"react-icons/gi\";\nimport { AiOutlineLink } from \"react-icons/ai\";\n\ninterface BearRedux {\n  dark?: boolean;\n}\n\ninterface BearState {\n  curSidebar: number;\n  curMidbar: number;\n  contentID: string;\n  contentURL: string;\n  midbarList: BearMdData[];\n}\n\ninterface ContentProps extends BearRedux {\n  id: string;\n  url: string;\n}\n\ninterface ContentState {\n  storeMd: {\n    [key: string]: string;\n  };\n}\n\ninterface MiddlebarProps {\n  items: BearMdData[];\n  cur: number;\n  setContent: (id: string, url: string, index: number) => void;\n}\n\ninterface SidebarProps {\n  cur: number;\n  setMidBar: (items: BearMdData[], index: number) => void;\n}\n\nconst Highlighter = (dark: boolean): any => {\n  interface codeProps {\n    node: any;\n    inline: boolean;\n    className: string;\n    children: any;\n  }\n\n  return {\n    code({ node, inline, className, children, ...props }: codeProps) {\n      const match = /language-(\\w+)/.exec(className || \"\");\n      return !inline && match ? (\n        <SyntaxHighlighter\n          style={dark ? dracula : prism}\n          language={match[1]}\n          PreTag=\"div\"\n          children={String(children).replace(/\\n$/, \"\")}\n          {...props}\n        />\n      ) : (\n        <code className={className}>{children}</code>\n      );\n    }\n  };\n};\n\nclass Sidebar extends Component<SidebarProps> {\n  render() {\n    return (\n      <div className=\"sidebar w-full h-full bg-gray-700 text-white overflow-y-scroll\">\n        <div className=\"h-12 pr-3 flex flex-row justify-end items-center\">\n          <IoCloudOfflineOutline className=\"mr-3\" size={20} />\n          <GiSettingsKnobs size={20} />\n        </div>\n        <ul>\n          {bear.map((item, index) => (\n            <li\n              key={`bear-sidebar-${item.id}`}\n              className={`pl-6 h-8 flex flex-row items-center cursor-default ${\n                this.props.cur === index ? \"bg-red-500\" : \"bg-transparent\"\n              } ${this.props.cur === index ? \"\" : \"hover:bg-gray-600\"}`}\n              onClick={() => this.props.setMidBar(item.md, index)}\n            >\n              {item.icon}\n              <span className=\"ml-2\">{item.title}</span>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nclass Middlebar extends Component<MiddlebarProps> {\n  render() {\n    return (\n      <div className=\"midbar w-full h-full bg-gray-50 border-r border-gray-300 overflow-y-scroll\">\n        <ul>\n          {this.props.items.map((item: BearMdData, index: number) => (\n            <li\n              key={`bear-midbar-${item.id}`}\n              className={`h-24 flex flex-col cursor-default border-l-2 ${\n                this.props.cur === index\n                  ? \"border-red-500 bg-white\"\n                  : \"border-transparent bg-transparent\"\n              } hover:bg-white`}\n              onClick={() => this.props.setContent(item.id, item.file, index)}\n            >\n              <div className=\"h-8 mt-3 flex flex-row flex-none items-center\">\n                <div className=\"-mt-1 w-10 text-gray-500 flex flex-none justify-center\">\n                  {item.icon}\n                </div>\n                <span className=\"relative text-gray-900 flex-grow font-bold\">\n                  {item.title}\n                  {item.link && (\n                    <a\n                      className=\"absolute top-1 right-4\"\n                      href={item.link}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                    >\n                      <AiOutlineLink className=\"text-gray-500\" />\n                    </a>\n                  )}\n                </span>\n              </div>\n              <div className=\"h-16 ml-10 pb-2 pr-1 border-b border-gray-300 text-sm text-gray-500\">\n                {item.excerpt}\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nclass Content extends Component<ContentProps, ContentState> {\n  constructor(props: ContentProps) {\n    super(props);\n    this.state = {\n      storeMd: {}\n    };\n  }\n\n  componentDidMount() {\n    this.fetchMarkdown(this.props.id, this.props.url);\n  }\n\n  componentDidUpdate(prevProps: ContentProps) {\n    if (prevProps.url !== this.props.url) {\n      this.fetchMarkdown(this.props.id, this.props.url);\n    }\n  }\n\n  fetchMarkdown(id: string, url: string) {\n    let storeMd = this.state.storeMd;\n    if (!storeMd[id]) {\n      fetch(url)\n        .then((response) => response.text())\n        .then((text) => {\n          text = this.fixImageURL(text, url);\n          storeMd[id] = text;\n          this.setState({ storeMd });\n        })\n        .catch((error) => console.error(error));\n    }\n  }\n\n  getRepoURL(url: string) {\n    return url.slice(0, -10) + \"/\";\n  }\n\n  fixImageURL(text: string, mdURL: string): string {\n    text = text.replace(/&nbsp;/g, \"\");\n    if (mdURL.indexOf(\"raw.githubusercontent.com\") !== -1) {\n      const repoURL = this.getRepoURL(mdURL);\n\n      const imgReg = /!\\[(.*?)]\\((.*?)\\)/;\n      const imgRegGlobal = /!\\[(.*?)]\\((.*?)\\)/g;\n\n      const imgList = text.match(imgRegGlobal);\n\n      if (imgList) {\n        for (let img of imgList) {\n          const imgURL = (img.match(imgReg) as Array<string>)[2];\n          if (imgURL.indexOf(\"http\") !== -1) continue;\n          const newImgURL = repoURL + imgURL;\n          text = text.replace(imgURL, newImgURL);\n        }\n      }\n    }\n    return text;\n  }\n\n  render() {\n    return (\n      <div className=\"markdown w-full h-full bg-gray-50 text-gray-700 overflow-scroll py-6\">\n        <div className=\"w-2/3 px-2 mx-auto\">\n          <ReactMarkdown\n            children={this.state.storeMd[this.props.id]}\n            linkTarget=\"_blank\"\n            remarkPlugins={[gfm]}\n            components={Highlighter(this.props.dark as boolean)}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Bear extends Component<BearRedux, BearState> {\n  constructor(props: BearRedux) {\n    super(props);\n    this.state = {\n      curSidebar: 0,\n      curMidbar: 0,\n      midbarList: bear[0].md,\n      contentURL: bear[0].md[0].file,\n      contentID: bear[0].md[0].id\n    };\n  }\n\n  setMidBar = (items: BearMdData[], index: number) => {\n    this.setState({\n      midbarList: items,\n      curSidebar: index,\n      contentURL: items[0].file,\n      contentID: items[0].id,\n      curMidbar: 0\n    });\n  };\n\n  setContent = (id: string, url: string, index: number) => {\n    this.setState({\n      contentID: id,\n      contentURL: url,\n      curMidbar: index\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"bear font-avenir flex flex-row w-full h-full\">\n        <div className=\"flex-none w-44\">\n          <Sidebar cur={this.state.curSidebar} setMidBar={this.setMidBar} />\n        </div>\n        <div className=\"flex-none w-60\">\n          <Middlebar\n            items={this.state.midbarList}\n            cur={this.state.curMidbar}\n            setContent={this.setContent}\n          />\n        </div>\n        <div className=\"flex-grow\">\n          <Content\n            id={this.state.contentID}\n            url={this.state.contentURL}\n            dark={this.props.dark}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: BearRedux): BearRedux => {\n  return {\n    dark: state.dark\n  };\n};\n\nexport default connect(mapStateToProps, null)(Bear);\n","import React from \"react\";\n\nexport default function VSCode() {\n  return (\n    <iframe\n      className=\"h-full w-full bg-vscode\"\n      src=\"https://github1s.com/xiaolin-ninja/portfolio/blob/main/README.md\"\n      frameBorder=\"0\"\n      title=\"VSCode\"\n    />\n  );\n}\n","import FaceTime from \"../components/apps/FaceTime\";\nimport Terminal from \"../components/apps/Terminal\";\nimport Safari from \"../components/apps/Safari\";\nimport Bear from \"../components/apps/Bear\";\nimport VSCode from \"../components/apps/VSCode\";\n\nimport { AppsData } from \"../types\";\n\nconst apps: AppsData[] = [\n  {\n    id: \"launchpad\",\n    title: \"Launchpad\",\n    desktop: false,\n    img: \"img/icons/launchpad.png\"\n  },\n  {\n    id: \"bear\",\n    title: \"Bear\",\n    desktop: true,\n    show: true,\n    width: 1160,\n    height: 700,\n    img: \"img/icons/bear.png\",\n    content: <Bear />\n  },\n  {\n    id: \"safari\",\n    title: \"Safari\",\n    desktop: true,\n    show: false,\n    width: 1024,\n    minWidth: 375,\n    minHeight: 200,\n    img: \"img/icons/safari.png\",\n    content: <Safari />\n  },\n  {\n    id: \"vscode\",\n    title: \"VSCode\",\n    desktop: true,\n    show: false,\n    img: \"img/icons/vscode.png\",\n    content: <VSCode />\n  },\n  {\n    id: \"facetime\",\n    title: \"FaceTime\",\n    desktop: true,\n    show: false,\n    img: \"img/icons/facetime.png\",\n    height: 530,\n    content: <FaceTime />\n  },\n  {\n    id: \"terminal\",\n    title: \"Terminal\",\n    desktop: true,\n    show: false,\n    img: \"img/icons/terminal.png\",\n    content: <Terminal />\n  },\n  {\n    id: \"email\",\n    title: \"Mail\",\n    desktop: false,\n    img: \"img/icons/mail.png\",\n    link: \"mailto:shirleyxiaolinxu@gmail.com\"\n  },\n  {\n    id: \"github\",\n    title: \"Github\",\n    desktop: false,\n    img: \"img/icons/github.png\",\n    link: \"https://github.com/xiaolin-ninja\"\n  }\n];\n\nexport default apps;\n","import { useRef, useState, useCallback, useEffect } from \"react\";\nimport useRaf from \"@rooks/use-raf\";\nimport {\n  motion,\n  MotionValue,\n  useMotionValue,\n  useSpring,\n  useTransform\n} from \"framer-motion\";\n\n// Hover effect is adopted from https://github.com/PuruVJ/macos-web/blob/main/src/components/dock/DockItem.tsx\n\nconst useDockHoverAnimation = (\n  mouseX: MotionValue,\n  ref: any,\n  dockSize: number,\n  dockMag: number\n) => {\n  const distanceLimit = dockSize * 6;\n  const distanceInput = [\n    -distanceLimit,\n    -distanceLimit / (dockMag * 0.65),\n    -distanceLimit / (dockMag * 0.85),\n    0,\n    distanceLimit / (dockMag * 0.85),\n    distanceLimit / (dockMag * 0.65),\n    distanceLimit\n  ];\n  const widthOutput = [\n    dockSize,\n    dockSize * (dockMag * 0.55),\n    dockSize * (dockMag * 0.75),\n    dockSize * dockMag,\n    dockSize * (dockMag * 0.75),\n    dockSize * (dockMag * 0.55),\n    dockSize\n  ];\n  const beyondTheDistanceLimit = distanceLimit + 1;\n\n  const distance = useMotionValue(beyondTheDistanceLimit);\n  const widthPX = useSpring(\n    useTransform(distance, distanceInput, widthOutput),\n    {\n      stiffness: 1700,\n      damping: 90\n    }\n  );\n\n  const width = useTransform(widthPX, (width) => `${width / 16}rem`);\n\n  useRaf(() => {\n    const el = ref.current;\n    const mouseXVal = mouseX.get();\n    if (el && mouseXVal !== null) {\n      const rect = el.getBoundingClientRect();\n      const imgCenterX = rect.left + rect.width / 2;\n      // difference between the x coordinate value of the mouse pointer\n      // and the img center x coordinate value\n      const distanceDelta = mouseXVal - imgCenterX;\n      distance.set(distanceDelta);\n      return;\n    }\n\n    distance.set(beyondTheDistanceLimit);\n  }, true);\n\n  return { width, widthPX };\n};\n\nconst useWindowWidth = () => {\n  const [width, setWidth] = useState(document.body.offsetWidth);\n\n  const onResize = useCallback(() => {\n    setWidth(document.body.offsetWidth);\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", onResize);\n    return () => {\n      window.removeEventListener(\"resize\", onResize);\n    };\n  }, [onResize]);\n\n  return width;\n};\n\ninterface DockItemProps {\n  id: string;\n  title: string;\n  img: string;\n  mouseX: MotionValue;\n  desktop: boolean;\n  openApp: (id: string) => void;\n  isOpen: boolean;\n  link?: string;\n  dockSize: number;\n  dockMag: number;\n}\n\nexport default function DockItem({\n  id,\n  title,\n  img,\n  mouseX,\n  desktop,\n  openApp,\n  isOpen,\n  link,\n  dockSize,\n  dockMag\n}: DockItemProps) {\n  const imgRef = useRef<HTMLImageElement>(null);\n  const { width } = useDockHoverAnimation(mouseX, imgRef, dockSize, dockMag);\n  const windowWidth = useWindowWidth();\n\n  return (\n    <li\n      id={`dock-${id}`}\n      onClick={desktop || id === \"launchpad\" ? () => openApp(id) : () => {}}\n      className=\"flex flex-col items-center justify-end mb-1 transition duration-150 ease-in origin-bottom\"\n    >\n      <p className=\"tooltip text-black text-sm absolute px-3 py-1 bg-gray-300 bg-opacity-80 blur-sm rounded-md\">\n        {title}\n      </p>\n      {link ? (\n        <a href={link} target=\"_blank\" rel=\"noreferrer\">\n          <motion.img\n            className=\"w-12\"\n            ref={imgRef}\n            src={img}\n            alt={title}\n            title={title}\n            draggable={false}\n            style={windowWidth < 640 ? {} : { width, willChange: \"width\" }}\n          />\n        </a>\n      ) : (\n        <motion.img\n          className=\"w-12\"\n          ref={imgRef}\n          src={img}\n          alt={title}\n          title={title}\n          draggable={false}\n          style={windowWidth < 640 ? {} : { width, willChange: \"width\" }}\n        />\n      )}\n      <div\n        className={`h-1 w-1 m-0 rounded-full bg-gray-800 ${\n          isOpen ? \"\" : \"invisible\"\n        }`}\n      />\n    </li>\n  );\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useMotionValue } from \"framer-motion\";\nimport apps from \"../../configs/apps\";\nimport DockItem from \"./DockItem\";\n\ninterface DockRedux {\n  dockSize?: number;\n  dockMag?: number;\n}\n\ninterface DockProps {\n  open: (id: string) => void;\n  showApps: {\n    [key: string]: boolean;\n  };\n  showLaunchpad: boolean;\n  toggleLaunchpad: (target: boolean) => void;\n  hide: boolean;\n}\n\nexport default function Dock({\n  open,\n  showApps,\n  showLaunchpad,\n  toggleLaunchpad,\n  hide\n}: DockProps) {\n  const dockSize = useSelector((state: DockRedux) => state.dockSize);\n  const dockMag = useSelector((state: DockRedux) => state.dockMag);\n\n  const openApp = (id: string) => {\n    if (id === \"launchpad\") toggleLaunchpad(!showLaunchpad);\n    else {\n      toggleLaunchpad(false);\n      open(id);\n    }\n  };\n\n  const mouseX = useMotionValue<number | null>(null);\n\n  return (\n    <div\n      className={`dock w-full sm:w-max fixed left-0 right-0 mx-auto bottom-0 ${\n        hide ? \"z-0\" : \"z-50\"\n      } overflow-x-scroll sm:overflow-x-visible`}\n    >\n      <ul\n        className=\"mx-auto w-max px-2 space-x-2 flex flex-row justify-center justify-between bg-white bg-opacity-20 border-t border-l border-r border-gray-400 border-opacity-30 blur rounded-none sm:rounded-t-lg\"\n        onMouseMove={(e) => mouseX.set(e.nativeEvent.x)}\n        onMouseLeave={() => mouseX.set(null)}\n        style={{\n          height: `${(dockSize as number) + 15}px`\n        }}\n      >\n        {apps.map((app) => (\n          <DockItem\n            key={`dock-${app.id}`}\n            id={app.id}\n            title={app.title}\n            img={app.img}\n            mouseX={mouseX}\n            desktop={app.desktop}\n            openApp={openApp}\n            isOpen={app.desktop && showApps[app.id]}\n            link={app.link}\n            dockSize={dockSize as number}\n            dockMag={dockMag as number}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n}\n","import { LaunchpadData } from \"../types\";\n\nconst launchpadApps: LaunchpadData[] = [\n  {\n    id: \"resume\",\n    title: \"Résumé\",\n    img: \"img/icons/launchpad/resume.png\",\n    link: \"https://drive.google.com/file/d/1Bs3dYQJYbsOUTJwXG_rKC2QU4mcEIwvv\"\n  },\n  {\n    id: \"linkedin\",\n    title: \"LinkedIn\",\n    img: \"img/icons/launchpad/linkedin.png\",\n    link: \"https://www.linkedin.com/in/shxxu/\"\n  },\n  {\n    id: \"whatsapptunneler\",\n    title: \"WhatsApp Tunneler\",\n    img: \"img/icons/launchpad/whatsapp.png\",\n    link: \"https://github.com/xiaolin-ninja/WhatsAppTunneler\"\n  },\n  {\n    id: \"budbud\",\n    title: \"BudBud\",\n    img: \"img/icons/launchpad/budbud.png\",\n    link: \"https://github.com/xiaolin-ninja/BudBud\"\n  },\n  {\n    id: \"instagram\",\n    title: \"Instagram\",\n    img: \"img/icons/launchpad/instagram.png\",\n    link: \"https://www.instagram.com/xiaolin.ninja/\"\n  }\n];\n\nexport default launchpadApps;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { BiSearch } from \"react-icons/bi\";\nimport launchpadApps from \"../configs/launchpad\";\nimport wallpapers from \"../configs/wallpapers\";\n\ninterface LaunchpadRedux {\n  dark?: boolean;\n}\n\ninterface LaunchpadProps extends LaunchpadRedux {\n  show: boolean;\n  toggleLaunchpad: (target: boolean) => void;\n}\n\ntype LaunchpadState = {\n  searchText: string;\n};\n\nconst placeholderText = \"Search\";\n\nclass Launchpad extends Component<LaunchpadProps, LaunchpadState> {\n  constructor(props: LaunchpadProps) {\n    super(props);\n    this.state = {\n      searchText: \"\"\n    };\n  }\n\n  search = () => {\n    if (this.state.searchText === \"\") return launchpadApps;\n    const text = this.state.searchText.toLowerCase();\n    const list = launchpadApps.filter((item) => {\n      return (\n        item.title.toLowerCase().includes(text) ||\n        item.id.toLowerCase().includes(text)\n      );\n    });\n    return list;\n  };\n\n  render() {\n    const close = this.props.show\n      ? \"\"\n      : \"opacity-0 invisible transition-opacity duration-200\";\n\n    return (\n      <div\n        className={`nightwind-prevent-block ${close} z-30 transform scale-110 w-full h-full fixed overflow-hidden bg-center bg-cover`}\n        id=\"launchpad\"\n        style={{\n          backgroundImage: `url(${\n            this.props.dark ? wallpapers.night : wallpapers.day\n          })`\n        }}\n        onClick={() => this.props.toggleLaunchpad(false)}\n      >\n        <div className=\"w-full h-full absolute bg-gray-900 bg-opacity-20 blur\">\n          <div\n            className=\"block mx-auto grid grid-cols-11 h-7 w-64 mt-5 rounded-md bg-gray-200 bg-opacity-10 border border-gray-200 border-opacity-30\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"col-start-1 col-span-1 flex justify-center items-center\">\n              <BiSearch className=\"ml-1\" color=\"white\" />\n            </div>\n            <input\n              className=\"col-start-2 col-span-10 outline-none focus:outline-none bg-transparent px-1 text-sm text-white\"\n              placeholder={placeholderText}\n              value={this.state.searchText}\n              onChange={(e) => this.setState({ searchText: e.target.value })}\n            />\n          </div>\n\n          <div\n            className=\"mx-auto mt-8 w-full px-4 sm:px-10 grid grid-flow-row grid-cols-4 sm:grid-cols-7\"\n            style={{\n              maxWidth: \"1100px\"\n            }}\n          >\n            {this.search().map((app) => (\n              <div\n                key={`launchpad-${app.id}`}\n                className=\"h-32 sm:h-36 w-full flex justify-center items-center\"\n              >\n                <div className=\"h-full w-full flex flex-col\">\n                  <a\n                    className=\"h-max\"\n                    href={app.link}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    <img\n                      className=\"w-14 sm:w-20 mx-auto\"\n                      src={app.img}\n                      alt={app.title}\n                      title={app.title}\n                    />\n                  </a>\n                  <span className=\"mt-2 mx-auto text-white text-xs sm:text-sm\">\n                    {app.title}\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: LaunchpadRedux): LaunchpadRedux => {\n  return {\n    dark: state.dark\n  };\n};\n\nexport default connect(mapStateToProps, null)(Launchpad);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Rnd } from \"react-rnd\";\nimport { IoCloseOutline } from \"react-icons/io5\";\nimport { FiMinus } from \"react-icons/fi\";\n\nconst FullIcon = ({ size }: { size: number }) => {\n  return (\n    <svg\n      viewBox=\"0 0 13 13\"\n      width={size}\n      height={size}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      strokeLinejoin=\"round\"\n      strokeMiterlimit={2}\n    >\n      <path fill=\"none\" d=\"M0 0h12.038v12.038H0z\" />\n      <path d=\"M9.26 12.03L.006 2.73v9.3H9.26zM2.735.012l9.3 9.3v-9.3h-9.3z\" />\n    </svg>\n  );\n};\n\nconst ExitFullIcon = ({ size }: { size: number }) => {\n  return (\n    <svg\n      viewBox=\"0 0 19 19\"\n      width={size}\n      height={size}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      strokeLinejoin=\"round\"\n      strokeMiterlimit={2}\n    >\n      <path fill=\"none\" d=\"M0 0h18.972v18.973H0z\" />\n      <path d=\"M18.373 9.23L9.75.606V9.23h8.624zM.6 9.742l8.623 8.624V9.742H.599z\" />\n    </svg>\n  );\n};\n\nconst minMarginY = 24;\nconst minMarginX = 100;\n\ninterface TrafficProps {\n  id: string;\n  max: boolean;\n  setMax: (id: string, target?: boolean) => void;\n  setMin: (id: string) => void;\n  close: (id: string) => void;\n}\n\ninterface WindowRedux {\n  dockSize?: number;\n}\n\ninterface WindowProps extends TrafficProps {\n  min: boolean;\n  width?: number;\n  height?: number;\n  minWidth?: number;\n  minHeight?: number;\n  title: string;\n  z: number;\n  focus: (id: string) => void;\n  dockSize?: number;\n  children: React.ReactNode;\n}\n\ninterface WindowState {\n  width: number;\n  height: number;\n  maxW: number;\n  maxH: number;\n  x: number;\n  y: number;\n}\n\nconst TrafficLights = ({ id, close, max, setMax, setMin }: TrafficProps) => {\n  const closeWindow = (e: React.MouseEvent | React.TouchEvent): void => {\n    e.stopPropagation();\n    close(id);\n  };\n\n  return (\n    <div className=\"traffic_lights flex flex-row absolute left-0 space-x-2 pl-2 mt-1.5\">\n      <button\n        className=\"w-3 h-3 rounded-full bg-red-500 outline-none focus:outline-none inline-flex justify-center items-center\"\n        onClick={closeWindow}\n        onTouchEnd={closeWindow}\n      >\n        <IoCloseOutline size={11} />\n      </button>\n      <button\n        className={`w-3 h-3 rounded-full ${\n          max ? \"bg-gray-400\" : \"bg-yellow-500\"\n        } outline-none focus:outline-none inline-flex justify-center items-center`}\n        onClick={() => setMin(id)}\n        onTouchEnd={() => setMin(id)}\n        disabled={max}\n      >\n        <FiMinus size={11} className={max ? \"invisible\" : \"\"} />\n      </button>\n      <button\n        className=\"w-3 h-3 rounded-full bg-green-500 outline-none focus:outline-none  inline-flex justify-center items-center\"\n        onClick={() => setMax(id)}\n        onTouchEnd={() => setMax(id)}\n      >\n        {max ? <ExitFullIcon size={10} /> : <FullIcon size={6.5} />}\n      </button>\n    </div>\n  );\n};\n\nclass Window extends Component<WindowProps, WindowState> {\n  constructor(props: WindowProps) {\n    super(props);\n    const maxW = window.innerWidth;\n    const maxH = window.innerHeight;\n    const width = Math.min(maxW, props.width ? props.width : 640);\n    const height = Math.min(maxH, props.height ? props.height : 400);\n    this.state = {\n      width: width,\n      height: height,\n      maxW: maxW,\n      maxH: maxH,\n      // \"+ maxW\" because of the boundary for windows\n      x: maxW + Math.random() * (maxW - width),\n      // \"- minMarginY\" because of the boundary for windows\n      y: Math.random() * (maxH - height - minMarginY)\n    };\n    this.resize.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.resize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.resize);\n  }\n\n  resize = () => {\n    const maxW = window.innerWidth;\n    const maxH = window.innerHeight;\n    const width = Math.min(maxW, this.state.width);\n    const height = Math.min(maxH, this.state.height);\n\n    this.setState({\n      maxW: maxW,\n      maxH: maxH,\n      width: width,\n      height: height\n    });\n  };\n\n  render() {\n    const round = this.props.max ? \"rounded-none\" : \"rounded-lg\";\n    const minimized = this.props.min\n      ? \"opacity-0 invisible transition-opacity duration-300\"\n      : \"\";\n    const border = this.props.max\n      ? \"\"\n      : \"border border-gray-500 border-opacity-30\";\n    const width = this.props.max ? this.state.maxW : this.state.width;\n    const height = this.props.max ? this.state.maxH : this.state.height;\n\n    let children = React.cloneElement(\n      this.props.children as React.ReactElement<any>,\n      { width: width }\n    );\n\n    return (\n      <Rnd\n        bounds=\"parent\"\n        size={{\n          width: width,\n          height: height\n        }}\n        position={{\n          x: this.props.max\n            ? this.state.maxW // because of boundary\n            : Math.min(\n                // \"maxW * 2\" because of the boundary for windows\n                this.state.maxW * 2 - minMarginX,\n                Math.max(\n                  // \"+ maxW\" because we add a boundary for windows\n                  this.state.maxW - this.state.width + minMarginX,\n                  this.state.x\n                )\n              ),\n          y: this.props.max\n            ? -minMarginY // because of boundary\n            : Math.min(\n                this.state.maxH -\n                  minMarginY - // \"- minMarginY\" because of the boundary for windows\n                  ((this.props.dockSize as number) + 15 + minMarginY),\n                Math.max(0, this.state.y)\n              )\n        }}\n        onDragStop={(e, d) => {\n          this.setState({ x: d.x, y: d.y });\n        }}\n        onResizeStop={(e, direction, ref, delta, position) => {\n          this.setState({\n            width: parseInt(ref.style.width),\n            height: parseInt(ref.style.height),\n            ...position\n          });\n        }}\n        minWidth={this.props.minWidth ? this.props.minWidth : 200}\n        minHeight={this.props.minHeight ? this.props.minHeight : 150}\n        dragHandleClassName=\"window-bar\"\n        disableDragging={this.props.max}\n        enableResizing={!this.props.max}\n        style={{ zIndex: this.props.z }}\n        onMouseDown={() => this.props.focus(this.props.id)}\n        className={`absolute ${round} overflow-hidden bg-transparent w-full h-full ${border} shadow-md ${minimized}`}\n        id={`window-${this.props.id}`}\n      >\n        <div\n          className=\"window-bar relative h-6 text-center bg-gray-200\"\n          onDoubleClick={() => this.props.setMax(this.props.id)}\n        >\n          <TrafficLights\n            id={this.props.id}\n            close={this.props.close}\n            max={this.props.max}\n            setMax={this.props.setMax}\n            setMin={this.props.setMin}\n          />\n          <span className=\"font-semibold text-gray-700\">\n            {this.props.title}\n          </span>\n        </div>\n        <div className=\"innner-window w-full overflow-y-hidden\">{children}</div>\n      </Rnd>\n    );\n  }\n}\n\nconst mapStateToProps = (state: WindowRedux): WindowRedux => {\n  return {\n    dockSize: state.dockSize\n  };\n};\n\nexport default connect(mapStateToProps, null)(Window);\n","import React, { Component, createRef } from \"react\";\nimport format from \"date-fns/format\";\nimport { BiSearch } from \"react-icons/bi\";\nimport apps from \"../configs/apps\";\nimport launchpad from \"../configs/launchpad\";\nimport { LaunchpadData, AppsData } from \"../types\";\n\nconst allApps: { [key: string]: (LaunchpadData | AppsData)[] } = {\n  app: apps,\n  portfolio: launchpad\n};\n\nconst getRandom = (min: number, max: number): number => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nconst getRandomDate = (): string => {\n  const timeStamp = new Date().getTime();\n  const randomStamp = getRandom(0, timeStamp);\n  const date = format(randomStamp, \"MM/dd/yyyy\");\n  return date;\n};\n\ninterface SpotlightProps {\n  toggleSpotlight: () => void;\n  openApp: (id: string) => void;\n  toggleLaunchpad: (target: boolean) => void;\n  btnRef: any;\n}\n\ninterface SpotlightState {\n  searchText: string;\n  appList: JSX.Element | null;\n  appIdList: string[];\n  curDetails: any;\n}\n\nexport default class Spotlight extends Component<\n  SpotlightProps,\n  SpotlightState\n> {\n  private curSelectIndex = 0;\n  private spotlightRef = createRef<any>();\n\n  constructor(props: SpotlightProps) {\n    super(props);\n    this.state = {\n      searchText: \"\",\n      curDetails: null,\n      appList: null,\n      appIdList: []\n    };\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  search = (type: string) => {\n    if (this.state.searchText === \"\") return [];\n    const text = this.state.searchText.toLowerCase();\n    const list = allApps[type].filter((item: LaunchpadData | AppsData) => {\n      return (\n        item.title.toLowerCase().includes(text) ||\n        item.id.toLowerCase().includes(text)\n      );\n    });\n    return list;\n  };\n\n  handleClick = (id: string): void => {\n    const curSelectIndex = this.state.appIdList.findIndex((item) => {\n      return item === id;\n    });\n    this.updateHighlight(this.curSelectIndex, curSelectIndex);\n    this.curSelectIndex = curSelectIndex;\n    this.updateCurDetails();\n  };\n\n  handleDoubleClick = (id: string): void => {\n    this.handleClick(id);\n    this.launchCurApp();\n  };\n\n  handleClickOutside(e: MouseEvent): void {\n    if (\n      this.spotlightRef &&\n      !this.spotlightRef.current.contains(e.target) &&\n      !this.props.btnRef.current.contains(e.target)\n    )\n      this.props.toggleSpotlight();\n  }\n\n  launchCurApp = (): void => {\n    if (this.state.curDetails.type === \"app\" && !this.state.curDetails.link) {\n      const id = this.state.curDetails.id;\n      if (id === \"launchpad\") this.props.toggleLaunchpad(true);\n      else this.props.openApp(id);\n      this.props.toggleSpotlight();\n    } else {\n      window.open(this.state.curDetails.link);\n      this.props.toggleSpotlight();\n    }\n  };\n\n  getTypeAppList = (type: string, startIndex: number) => {\n    const result = this.search(type);\n    let appList = [];\n    let appIdList = [];\n\n    for (let app of result) {\n      const curIndex = startIndex + appIdList.length;\n      const bg = curIndex === 0 ? \"bg-blue-500\" : \"bg-transparent\";\n      const text = curIndex === 0 ? \"text-white\" : \"text-black\";\n\n      if (curIndex === 0) this.setCurDetails(app, type);\n\n      appList.push(\n        <li\n          id={`spotlight-${app.id}`}\n          key={`spotlight-${app.id}`}\n          className={`pl-4 h-7 w-full pr-1 flex flex-row ${bg} ${text} cursor-default`}\n          data-app-type={type}\n          onClick={() => this.handleClick(app.id)}\n          onDoubleClick={() => this.handleDoubleClick(app.id)}\n        >\n          <div className=\"flex-none w-8 flex items-center\">\n            <img\n              className=\"w-5 mx-auto\"\n              src={app.img}\n              alt={app.title}\n              title={app.title}\n            />\n          </div>\n          <div className=\"flex-grow flex items-center pl-3 overflow-hidden whitespace-nowrap\">\n            {app.title}\n          </div>\n        </li>\n      );\n      appIdList.push(app.id);\n    }\n\n    return {\n      appList: appList,\n      appIdList: appIdList\n    };\n  };\n\n  updateAppList = (): void => {\n    const app = this.getTypeAppList(\"app\", 0);\n    const portfolio = this.getTypeAppList(\"portfolio\", app.appIdList.length);\n\n    const appIdList = [...app.appIdList, ...portfolio.appIdList];\n    // don't show app details when there is no associating app\n    if (appIdList.length === 0) this.setState({ curDetails: null });\n\n    const appList = (\n      <div>\n        {app.appList.length !== 0 && (\n          <div>\n            <div className=\"pl-6 py-0.5 text-xs leading-none bg-gray-400 bg-opacity-80 flex items-center text-black\">\n              Applications\n            </div>\n            <ul className=\"w-full text-xs\">{app.appList}</ul>\n          </div>\n        )}\n        {portfolio.appList.length !== 0 && (\n          <div>\n            <div className=\"pl-6 py-0.5 text-xs leading-none bg-gray-400 bg-opacity-80 flex items-center text-black\">\n              Portfolio\n            </div>\n            <ul className=\"w-full text-xs\">{portfolio.appList}</ul>\n          </div>\n        )}\n      </div>\n    );\n    this.setState({\n      appList: appList,\n      appIdList: appIdList\n    });\n  };\n\n  setCurDetails = (app: any, type: string): void => {\n    const curDetails = app;\n    curDetails.type = type;\n    this.setState({ curDetails });\n  };\n\n  updateCurDetails = (): void => {\n    const appId = this.state.appIdList[this.curSelectIndex];\n    const elem = document.querySelector(`#spotlight-${appId}`) as HTMLElement;\n    const id = appId;\n    const type = elem.dataset.appType as string;\n    const app = allApps[type].find((item: LaunchpadData | AppsData) => {\n      return item.id === id;\n    });\n    this.setCurDetails(app, type);\n  };\n\n  updateHighlight = (prevIndex: number, curIndex: number): void => {\n    // remove highlight\n    const prevAppId = this.state.appIdList[prevIndex];\n    const prev = document.querySelector(\n      `#spotlight-${prevAppId}`\n    ) as HTMLElement;\n    let classes = prev.className;\n    classes = classes.replace(\"text-white\", \"text-black\");\n    classes = classes.replace(\"bg-blue-500\", \"bg-transparent\");\n    prev.className = classes;\n\n    // add highlight\n    const curAppId = this.state.appIdList[curIndex];\n    const cur = document.querySelector(`#spotlight-${curAppId}`) as HTMLElement;\n    classes = cur.className;\n    classes = classes.replace(\"text-black\", \"text-white\");\n    classes = classes.replace(\"bg-transparent\", \"bg-blue-500\");\n    cur.className = classes;\n  };\n\n  handleKeyPress = (e: React.KeyboardEvent<HTMLDivElement>): void => {\n    const keyCode = e.key;\n    const numApps = this.state.appIdList.length;\n\n    // ----------- select next app -----------\n    if (keyCode === \"ArrowDown\" && this.curSelectIndex < numApps - 1) {\n      this.curSelectIndex++;\n      this.updateHighlight(this.curSelectIndex - 1, this.curSelectIndex);\n      this.updateCurDetails();\n    }\n    // ----------- select previous app -----------\n    else if (keyCode === \"ArrowUp\" && this.curSelectIndex > 0) {\n      this.curSelectIndex--;\n      this.updateHighlight(this.curSelectIndex + 1, this.curSelectIndex);\n      this.updateCurDetails();\n    }\n    // ----------- launch app -----------\n    else if (keyCode === \"Enter\") {\n      if (!this.state.curDetails) return;\n      this.launchCurApp();\n    }\n  };\n\n  handleInputChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    // current selected id go back to 0\n    this.curSelectIndex = 0;\n    // don\"t show app details when there is no input\n    if (e.target.value === \"\") this.setState({ curDetails: null });\n    // update search text and associating app list\n    this.setState(\n      {\n        searchText: e.target.value\n      },\n      () => this.updateAppList()\n    );\n  };\n\n  focusOnInput = (): void => {\n    const input = document.querySelector(\"#spotlight-input\") as HTMLElement;\n    input.focus();\n  };\n\n  render() {\n    return (\n      <div\n        className=\"spotlight fixed z-20 top-1/4 -mt-16 h-max rounded-md bg-gray-50 bg-opacity-80 blur border border-gray-400 border-opacity-50 shadow-2xl\"\n        onKeyDown={this.handleKeyPress}\n        onClick={this.focusOnInput}\n        ref={this.spotlightRef}\n      >\n        <div className=\"w-full grid grid-cols-8 sm:grid-cols-11 h-12 sm:h-14 rounded-md bg-transparent\">\n          <div className=\"col-start-1 col-span-1 flex justify-center items-center\">\n            <BiSearch className=\"ml-1 text-gray-600\" size={28} />\n          </div>\n          <input\n            id=\"spotlight-input\"\n            className=\"col-start-2 col-span-7 sm:col-span-10 outline-none focus:outline-none bg-transparent px-1 text-black text-xl sm:text-2xl\"\n            placeholder=\"Spotlight Search\"\n            value={this.state.searchText}\n            onChange={(e) => this.handleInputChange(e)}\n            autoFocus={true}\n          />\n        </div>\n        {this.state.searchText !== \"\" && (\n          <div\n            className=\"bg-transparent flex flex-row border-t border-gray-400 border-opacity-50\"\n            style={{ height: \"341px\" }}\n          >\n            <div className=\"flex-none w-32 sm:w-72 border-r border-gray-400 border-opacity-50 overflow-y-scroll\">\n              {this.state.appList}\n            </div>\n            <div className=\"flex-grow\">\n              {this.state.curDetails && (\n                <div className=\"h-full w-full flex flex-col\">\n                  <div className=\"mx-auto w-4/5 flex-none flex flex-col items-center justify-center h-56 border-b border-gray-400 border-opacity-50\">\n                    <img\n                      className=\"w-32 mx-auto\"\n                      src={this.state.curDetails.img}\n                      alt={this.state.curDetails.title}\n                      title={this.state.curDetails.title}\n                    />\n                    <div className=\"mt-4 text-xl text-black\">\n                      {this.state.curDetails.title}\n                    </div>\n                    <div className=\"text-xs text-gray-500\">\n                      {`Version: ${getRandom(0, 99)}.${getRandom(0, 999)}`}\n                    </div>\n                  </div>\n                  <div className=\"flex-grow flex flex-row text-xs\">\n                    <div className=\"flex-none w-1/2 flex flex-col items-end justify-center text-gray-500\">\n                      <div>Kind</div>\n                      <div>Size</div>\n                      <div>Created</div>\n                      <div>Modified</div>\n                      <div>Last opened</div>\n                    </div>\n                    <div className=\"pl-2 flex-grow flex flex-col items-start justify-center text-black\">\n                      <div>\n                        {this.state.curDetails.type === \"app\"\n                          ? \"Application\"\n                          : \"Portfolio\"}\n                      </div>\n                      <div>{`${getRandom(0, 999)} G`}</div>\n                      <div>{getRandomDate()}</div>\n                      <div>{getRandomDate()}</div>\n                      <div>{getRandomDate()}</div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport nightwind from \"nightwind/helper\";\n\nimport { macActions } from \"../types\";\nimport TopBar from \"../components/menus/TopBar\";\nimport Dock from \"../components/dock/Dock\";\nimport Launchpad from \"../components/Launchpad\";\nimport Window from \"../components/Window\";\nimport Spotlight from \"../components/Spotlight\";\nimport apps from \"../configs/apps\";\nimport wallpapers from \"../configs/wallpapers\";\n\ntype DesktopRedux = {\n  dark?: boolean;\n  brightness?: number;\n};\n\ntype DesktopProps = DesktopRedux & macActions;\n\ninterface DesktopState {\n  showApps: {\n    [key: string]: boolean;\n  };\n  appsZ: {\n    [key: string]: number;\n  };\n  maxApps: {\n    [key: string]: boolean;\n  };\n  minApps: {\n    [key: string]: boolean;\n  };\n  maxZ: number;\n  showLaunchpad: boolean;\n  currentTitle: string;\n  hideDockAndTopbar: boolean;\n  spotlight: boolean;\n  spotlightBtnRef: any;\n}\n\nconst minMarginY = 24;\n\nclass Desktop extends Component<DesktopProps, DesktopState> {\n  constructor(props: DesktopProps) {\n    super(props);\n    this.state = {\n      showApps: {},\n      appsZ: {},\n      maxApps: {},\n      minApps: {},\n      maxZ: 2,\n      showLaunchpad: false,\n      currentTitle: \"Finder\",\n      hideDockAndTopbar: false,\n      spotlight: false,\n      spotlightBtnRef: null\n    };\n  }\n\n  componentDidMount() {\n    this.getAppsData();\n  }\n\n  getAppsData = (): void => {\n    let showApps = {},\n      appsZ = {},\n      maxApps = {},\n      minApps = {};\n\n    apps.forEach((app) => {\n      showApps = {\n        ...showApps,\n        [app.id]: app.show\n      };\n      appsZ = {\n        ...appsZ,\n        [app.id]: 2\n      };\n      maxApps = {\n        ...maxApps,\n        [app.id]: false\n      };\n      minApps = {\n        ...minApps,\n        [app.id]: false\n      };\n    });\n\n    this.setState({ showApps });\n  };\n\n  toggleLaunchpad = (target: boolean): void => {\n    let r = document.querySelector(`#launchpad`) as HTMLElement;\n    if (target) {\n      r.style.transform = \"scale(1)\";\n      r.style.transition = \"ease-in 0.2s\";\n    } else {\n      r.style.transform = \"scale(1.1)\";\n      r.style.transition = \"ease-out 0.2s\";\n    }\n\n    this.setState({ showLaunchpad: target });\n  };\n\n  toggleSpotlight = (): void => {\n    this.setState({ spotlight: !this.state.spotlight });\n  };\n\n  setWinowsPosition = (id: string): void => {\n    let r = document.querySelector(`#window-${id}`) as HTMLElement;\n    const rect = r.getBoundingClientRect();\n    r.style.setProperty(\n      \"--window-transform-x\",\n      // \"+ window.innerWidth\" because of the boundary for windows\n      (window.innerWidth + rect.x).toFixed(1).toString() + \"px\"\n    );\n    r.style.setProperty(\n      \"--window-transform-y\",\n      // \"- minMarginY\" because of the boundary for windows\n      (rect.y - minMarginY).toFixed(1).toString() + \"px\"\n    );\n  };\n\n  closeApp = (id: string): void => {\n    this.setAppMax(id, false);\n    let showApps = this.state.showApps;\n    showApps[id] = false;\n    this.setState({\n      showApps: showApps,\n      hideDockAndTopbar: false\n    });\n  };\n\n  openApp = (id: string): void => {\n    // add it to the shown app list\n    let showApps = this.state.showApps;\n    showApps[id] = true;\n\n    // move to the top (use a maximum z-index)\n    let appsZ = this.state.appsZ;\n    let maxZ = this.state.maxZ + 1;\n    appsZ[id] = maxZ;\n\n    // get the title of the currently opened app\n    const currentApp = apps.find((app) => {\n      return app.id === id;\n    });\n    if (currentApp === undefined) {\n      throw new TypeError(`App ${id} is undefined.`);\n    }\n\n    this.setState({\n      showApps: showApps,\n      appsZ: appsZ,\n      maxZ: maxZ,\n      currentTitle: currentApp.title\n    });\n\n    let minApps = this.state.minApps;\n    // if the app has already been shown but minimized\n    if (minApps[id]) {\n      // move to window's last position\n      let r = document.querySelector(`#window-${id}`) as HTMLElement;\n      r.style.transform = `translate(${r.style.getPropertyValue(\n        \"--window-transform-x\"\n      )}, ${r.style.getPropertyValue(\"--window-transform-y\")}) scale(1)`;\n      r.style.transition = \"ease-in 0.3s\";\n      // remove it from the minimized app list\n      minApps[id] = false;\n      this.setState({ minApps });\n    }\n  };\n\n  setAppMax = (id: string, target?: boolean): void => {\n    let maxApps = this.state.maxApps;\n    if (target === undefined) target = !maxApps[id];\n    maxApps[id] = target;\n    this.setState({\n      maxApps: maxApps,\n      hideDockAndTopbar: target\n    });\n  };\n\n  setAppMin = (id: string, target?: boolean): void => {\n    let minApps = this.state.minApps;\n    if (target === undefined) target = !minApps[id];\n    minApps[id] = target;\n    this.setState({\n      minApps: minApps\n    });\n  };\n\n  minimizeApp = (id: string): void => {\n    this.setWinowsPosition(id);\n\n    // get the corrosponding dock icon's position\n    var r = document.querySelector(`#dock-${id}`) as HTMLElement;\n    const dockAppRect = r.getBoundingClientRect();\n\n    r = document.querySelector(`#window-${id}`) as HTMLElement;\n    // const appRect = r.getBoundingClientRect();\n    const posY = window.innerHeight - r.offsetHeight / 2 - minMarginY;\n    // \"+ window.innerWidth\" because of the boundary for windows\n    const posX = window.innerWidth + dockAppRect.x - r.offsetWidth / 2 + 25;\n\n    // translate the window to that position\n    r.style.transform = `translate(${posX}px, ${posY}px) scale(0.2)`;\n    r.style.transition = \"ease-out 0.3s\";\n\n    // add it to the minimized app list\n    this.setAppMin(id, true);\n  };\n\n  renderAppWindows = () => {\n    return apps.map((app) => {\n      if (app.desktop && this.state.showApps[app.id]) {\n        const props = {\n          title: app.title,\n          id: app.id,\n          width: app.width,\n          height: app.height,\n          minWidth: app.minWidth,\n          minHeight: app.minHeight,\n          z: this.state.appsZ[app.id],\n          max: this.state.maxApps[app.id],\n          min: this.state.minApps[app.id],\n          close: this.closeApp,\n          setMax: this.setAppMax,\n          setMin: this.minimizeApp,\n          focus: this.openApp\n        };\n\n        return (\n          <Window key={`desktop-app-${app.id}`} {...props}>\n            {app.content}\n          </Window>\n        );\n      } else {\n        return <div key={`desktop-app-${app.id}`} />;\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div\n        className=\"w-full h-full overflow-hidden bg-center bg-cover\"\n        style={{\n          backgroundImage: `url(${\n            this.props.dark ? wallpapers.night : wallpapers.day\n          })`,\n          filter: `brightness( ${\n            (this.props.brightness as number) * 0.7 + 50\n          }% )`\n        }}\n      >\n        {/* Dark Model Toggler */}\n        <script dangerouslySetInnerHTML={{ __html: nightwind.init() }} />\n\n        {/* Top Menu Bar */}\n        <TopBar\n          title={this.state.currentTitle}\n          setLogin={this.props.setLogin}\n          shutMac={this.props.shutMac}\n          sleepMac={this.props.sleepMac}\n          restartMac={this.props.restartMac}\n          toggleSpotlight={this.toggleSpotlight}\n          hide={this.state.hideDockAndTopbar}\n          setSpotlightBtnRef={(value: React.RefObject<HTMLDivElement>) => {\n            this.setState({\n              spotlightBtnRef: value\n            });\n          }}\n        />\n\n        {/* Desktop Apps */}\n        <div className=\"window-bound z-10 absolute\" style={{ top: minMarginY }}>\n          {this.renderAppWindows()}\n        </div>\n\n        {/* Spotlight */}\n        {this.state.spotlight && (\n          <Spotlight\n            openApp={this.openApp}\n            toggleLaunchpad={this.toggleLaunchpad}\n            toggleSpotlight={this.toggleSpotlight}\n            btnRef={this.state.spotlightBtnRef}\n          />\n        )}\n\n        {/* Launchpad */}\n        <Launchpad\n          show={this.state.showLaunchpad}\n          toggleLaunchpad={this.toggleLaunchpad}\n        />\n\n        {/* Dock */}\n        <Dock\n          open={this.openApp}\n          showApps={this.state.showApps}\n          showLaunchpad={this.state.showLaunchpad}\n          toggleLaunchpad={this.toggleLaunchpad}\n          hide={this.state.hideDockAndTopbar}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: DesktopRedux): DesktopRedux => {\n  return {\n    dark: state.dark,\n    brightness: state.brightness\n  };\n};\n\nexport default connect(mapStateToProps, null)(Desktop);\n","import { UserData } from \"../types\";\n\nconst user: UserData = {\n  name: \"Shirley Xiaolin Xu\",\n  avatar: \"img/ui/avatar.png\"\n};\n\nexport default user;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { BsQuestionSquareFill } from \"react-icons/bs\";\nimport { CgSleep } from \"react-icons/cg\";\nimport { RiShutDownLine, RiRestartLine } from \"react-icons/ri\";\n\nimport { macActions } from \"../types\";\nimport wallpapers from \"../configs/wallpapers\";\nimport user from \"../configs/user\";\n\ntype LoginRedux = {\n  dark?: boolean;\n};\n\ntype LoginProps = LoginRedux & macActions;\n\nclass Login extends Component<LoginProps, {}> {\n  keyPress = (e: React.KeyboardEvent) => {\n    const keyCode = e.key;\n    if (keyCode === \"Enter\") this.props.setLogin(true);\n  };\n\n  render() {\n    return (\n      <div\n        className=\"w-full h-full login text-center\"\n        style={{\n          background: `url(${\n            this.props.dark ? wallpapers.night : wallpapers.day\n          }) center/cover no-repeat`\n        }}\n        onClick={() => this.props.setLogin(true)}\n      >\n        <div className=\"inline-block w-auto relative top-1/2 -mt-40\">\n          {/* Avatar */}\n          <img\n            className=\"rounded-full w-24 h-24 my-0 mx-auto\"\n            src={user.avatar}\n            alt=\"img\"\n          />\n          <div className=\"nightwind-prevent font-semibold text-xl mt-2 text-white\">\n            {user.name}\n          </div>\n\n          {/* Password Input */}\n          <div className=\"nightwind-prevent mx-auto grid grid-cols-5 w-44 h-8 mt-4 rounded-md bg-gray-300 blur bg-opacity-50\">\n            <input\n              className=\"nightwind-prevent text-sm col-start-1 col-span-4 outline-none focus:outline-none bg-transparent px-2 text-white\"\n              type=\"password\"\n              placeholder=\"Click my face :)\"\n              onClick={(e) => e.stopPropagation()}\n              onKeyPress={this.keyPress}\n            />\n            <div className=\"col-start-5 col-span-1 flex justify-center items-center\">\n              <BsQuestionSquareFill className=\"ml-1\" color=\"white\" />\n            </div>\n          </div>\n        </div>\n\n        {/* buttons */}\n        <div className=\"nightwind-prevent-block text-sm fixed bottom-16 left-0 right-0 mx-auto flex flex-row space-x-4 w-max\">\n          <div\n            className=\"flex flex-col items-center text-white w-24\"\n            onClick={(e) => this.props.sleepMac(e)}\n          >\n            <div className=\"h-10 w-10 bg-gray-700 rounded-full inline-flex justify-center items-center\">\n              <CgSleep size={40} />\n            </div>\n            <span>Sleep</span>\n          </div>\n          <div\n            className=\"flex flex-col items-center text-white w-24\"\n            onClick={(e) => this.props.restartMac(e)}\n          >\n            <div className=\"h-10 w-10 bg-gray-700 rounded-full inline-flex justify-center items-center\">\n              <RiRestartLine size={36} />\n            </div>\n            <span>Restart</span>\n          </div>\n          <div\n            className=\"flex flex-col items-center text-white w-24\"\n            onClick={(e) => this.props.shutMac(e)}\n          >\n            <div className=\"h-10 w-10 bg-gray-700 rounded-full inline-flex justify-center items-center\">\n              <RiShutDownLine size={36} />\n            </div>\n            <span>Shut Down</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: LoginRedux): LoginRedux => {\n  return {\n    dark: state.dark\n  };\n};\n\nexport default connect(mapStateToProps, null)(Login);\n","import React, { Component } from \"react\";\nimport { FaApple } from \"react-icons/fa\";\n\ntype BootProps = {\n  restart: boolean;\n  sleep: boolean;\n  setBooting: (value: boolean | ((prevVar: boolean) => boolean)) => void;\n};\n\ntype BootState = {\n  percent: number;\n};\n\nexport default class Boot extends Component<BootProps, BootState> {\n  private intervalId: any;\n\n  constructor(props: BootProps) {\n    super(props);\n    this.state = {\n      percent: 0\n    };\n    this.intervalId = null;\n  }\n\n  componentDidMount() {\n    if (this.props.restart && !this.props.sleep) this.startLoading();\n  }\n\n  startLoading() {\n    this.intervalId = setInterval(this.loading.bind(this), 1);\n  }\n\n  handleClick() {\n    if (this.props.sleep) this.props.setBooting(false);\n    else if (this.props.restart) return;\n    else if (this.intervalId) return;\n    else this.startLoading();\n  }\n\n  componentWillUnmount() {\n    if (this.intervalId) clearInterval(this.intervalId);\n  }\n\n  loading() {\n    const newPercent = this.state.percent + 0.15;\n    if (newPercent >= 100) {\n      clearInterval(this.intervalId);\n      setTimeout(() => {\n        this.props.setBooting(false);\n      }, 500);\n    } else this.setState({ percent: newPercent });\n  }\n\n  render() {\n    return (\n      <div\n        className=\"nightwind-prevent nightwind-prevent-block w-full h-full bg-black flex flex-col justify-center items-center\"\n        onClick={this.handleClick.bind(this)}\n      >\n        <FaApple className=\"text-white -mt-4 w-20 h-20 sm:w-24 sm:h-24\" />\n        {this.intervalId && (\n          <div className=\"absolute top-1/2 mt-16 sm:mt-24 left-0 right-0 mx-auto w-56 h-1 sm:h-1.5 bg-gray-500 rounded overflow-hidden\">\n            <span\n              className=\"absolute top-0 bg-white h-full rounded-sm\"\n              style={{\n                width: `${this.state.percent.toString()}%`\n              }}\n            />\n          </div>\n        )}\n        {!this.props.restart && !this.intervalId && (\n          <div className=\"absolute top-1/2 mt-16 sm:mt-20 left-0 right-0 mx-auto text-sm text-gray-200 text-center\">\n            Click to {this.props.sleep ? \"wake up\" : \"boot\"}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport \"./styles/index.tailwind.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nimport Desktop from \"./pages/Desktop\";\nimport Login from \"./pages/Login\";\nimport Boot from \"./pages/Boot\";\n\nexport default function App() {\n  const [login, setLogin] = useState<boolean>(false);\n  const [booting, setBooting] = useState<boolean>(false);\n  const [restart, setRestart] = useState<boolean>(false);\n  const [sleep, setSleep] = useState<boolean>(false);\n\n  const shutMac = (e: React.MouseEvent): void => {\n    e.stopPropagation();\n    setRestart(false);\n    setSleep(false);\n    setLogin(false);\n    setBooting(true);\n  };\n\n  const restartMac = (e: React.MouseEvent): void => {\n    e.stopPropagation();\n    setRestart(true);\n    setSleep(false);\n    setLogin(false);\n    setBooting(true);\n  };\n\n  const sleepMac = (e: React.MouseEvent): void => {\n    e.stopPropagation();\n    setRestart(false);\n    setSleep(true);\n    setLogin(false);\n    setBooting(true);\n  };\n\n  if (booting) {\n    return <Boot restart={restart} sleep={sleep} setBooting={setBooting} />;\n  } else if (login) {\n    return (\n      <Desktop\n        setLogin={setLogin}\n        shutMac={shutMac}\n        sleepMac={sleepMac}\n        restartMac={restartMac}\n      />\n    );\n  } else {\n    return (\n      <Login\n        setLogin={setLogin}\n        shutMac={shutMac}\n        sleepMac={sleepMac}\n        restartMac={restartMac}\n      />\n    );\n  }\n}\n\nconst rootElement = document.getElementById(\"root\");\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  rootElement\n);\n"],"sourceRoot":""}